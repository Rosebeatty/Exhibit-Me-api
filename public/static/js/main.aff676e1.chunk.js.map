{"version":3,"sources":["lib/auth-service.js","lib/AuthProvider.js","components/UserVRScene.js","pages/Home.js","components/SearchBar.js","components/Navbar.js","pages/Signup.js","pages/Login.js","components/VRScene.js","components/AddComment.js","components/Comments.js","components/Profile.js","pages/Profile.js","components/PostComment.js","components/UserComments.js","pages/UserPage.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","webpack:///./src/index.js?b635"],"names":["axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","user","username","password","email","theme","space_name","post","then","data","response","get","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedin","isLoading","props","Component","AuthProvider","state","authService","setState","catch","err","console","log","me","value","children","getUser","id","userId","backgroundPath","upload","newImg","document","createElement","setAttribute","sky","scene","getElementById","appendChild","uploadFile","startVR","node","parentNode","removeChild","_id","className","style","color","border","margin","fontSize","onClick","embedded","position","users","selected","themes","background","selectedThemes","input","getAllUsers","map","componentDidMount","filterUsers","filter","el","toLowerCase","includes","backgroundColor","padding","minHeight","textAlign","width","paddingLeft","paddingBottom","display","key","to","borderBottom","src","height","referrer","handleInput","e","target","goHome","type","name","onChange","placeholder","onSubmit","submit","submitSearch","preventDefault","history","push","data-toggle","data-target","aria-controls","aria-expanded","aria-label","handleFormSubmit","event","handleChange","paddingTop","handleSubmit","comment","userData","getComments","initialComments","cancelComment","comments","commentId","canDelete","findCommon","theComments","matchingComments","deleteComment","newCommentsList","delete","commentsList","reverse","AddComment","index","marginTop","marginBottom","cursor","file","fileName","path","objects","backgroundImage","bkgImages","fileExists","onChangeHandler","files","onBkgChangeHandler","formData","FormData","append","headers","res","alert","theFile","fileUpload","error","assetEl","gltfModelId","entityEl","showForm","showCreateButton","showUpload","editProfile","put","deleteObject","modelId","pop","remove","newObjects","object","enabled","href","flexDirection","encType","ref","disabled","background_image","getPathname","slice","userComments","userCom","PostComment","objectId","userpath","location","pathname","match","params","getFile","component","rest","render","App","exact","Signup","Login","Home","Profile","UserPage","ReactDOM"],"mappings":"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","file":"static/js/main.aff676e1.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(user) {\n    const { username, password, email, theme, space_name} = user;\n    return this.auth\n      .post('/auth/signup', { username, password, email, theme, space_name})\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { username, password } = user;\n    return this.auth\n      .post('/auth/login', { username, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {}).then(response => response.data);\n  }\n\n  me() {\n    return this.auth.get('/auth/me').then(response => response.data);\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","//\tlib/AuthProvider.js\n\nimport React from 'react';\nimport authService from './auth-service'; // IMPORT functions for axios requests to API\nconst { Consumer, Provider } = React.createContext();\n\n// HOC to create Consumer\nconst withAuth = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {/* <Consumer> component provides callback which receives Providers \"value\" object */}\n          {/* (value) => { <WrappedComponent />}  */}\n          {({ login, signup, user, logout, isLoggedin, isLoading }) => {\n            return (\n              <WrappedComponent\n                login={login}\n                signup={signup}\n                user={user}\n                logout={logout}\n                isLoggedin={isLoggedin}\n                isLoading={isLoading}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n// Provider\nclass AuthProvider extends React.Component {\n  state = { isLoggedin: false, user: null, isLoading: true };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then(user =>\n        this.setState({ isLoggedin: true, user: user, isLoading: false }),\n      )\n      .catch(err =>\n        this.setState({ isLoggedin: false, user: null, isLoading: false }),\n      );\n  }\n\n  signup = user => {\n    const {  username, password, email, theme, space_name} = user;\n\n    authService\n      .signup({  username, password, email, theme, space_name})\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  login = user => {\n    const { username, password } = user;\n\n    authService\n      .login({ username, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedin: false, user: null }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { isLoading, isLoggedin, user } = this.state;\n    const { login, logout, signup } = this;\n\n    return (\n      <Provider value={{ isLoading, isLoggedin, user, login, logout, signup }}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport { Consumer, withAuth };\n\nexport default AuthProvider;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport \"aframe\";\nimport { Scene } from \"aframe-react\";\nimport \"aframe-extras\";\nimport axios from \"axios\";\n\nclass UserVRScene extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userId: this.props.user._id,\n      backgroundPath: \"\",\n      theme: \"\"\n    };\n  }\n\n  getUser = () => {\n    let id = this.state.userId;\n    //   let objectId = this.props.user.data.objects[0]\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        const user = response.data;\n        this.setState({\n          theme: user.theme,\n          backgroundPath: `images/${this.props.theme}.jpg`\n        });\n        // this.upload()\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  upload = () => {\n    console.log(this.state.backgroundPath);\n      let newImg = document.createElement('img')\n      newImg.setAttribute('id', 'sky');\n\n      newImg.setAttribute('src', `images/${this.props.theme}.jpg`)\n      let sky = document.createElement('a-sky')\n      let scene = document.getElementById('scene')\n\n      sky.setAttribute('src', '#sky')\n      sky.appendChild(newImg)\n      scene.appendChild(sky)\n      this.props.uploadFile()\n      console.log(this.props);\n      \n  }\n\n  startVR = () => {\n    let node = document.getElementById(\"startbtn\");\n    \n    this.upload()\n    if (node.parentNode) {\n      node.parentNode.removeChild(node);\n    }\n  };\n\n  render() {\n    console.log(this.props);\n\n    return (\n      <div className=\"vrscene\">\n        <div id=\"start\" id=\"myEmbeddedScene\" >\n          <button\n            id=\"startbtn\"\n            style={{\n              color: \"white\",\n              border: \"none\",\n              margin: \"12em auto\",\n              fontSize: \"20px\"\n            }}\n            onClick={this.startVR}\n          >\n            CLICK TO START\n          </button>\n          <Scene id=\"scene\" embedded>\n            <a-assets id=\"assets-id\">{/* <img id=\"sky\" ></img> */}</a-assets>\n            <a-camera position=\"40 70 0\"></a-camera>\n\n            {/* <a-sky src=\"#sky\"></a-sky> */}\n\n            {/* <a-videosphere src=\"worm.mp4\"></a-videosphere> */}\n          </Scene>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserVRScene);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\nimport Profile from \"../components/UserVRScene\";\n\nclass Home extends Component {\n  state = {\n    users: [],\n    selected: [],\n    themes: [],\n    background: \"\",\n    selectedThemes: [],\n    input: \"\"\n  };\n\n  getAllUsers = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users`)\n      .then(response => {\n        console.log(response.data);\n        const users = response.data;\n        let themes = users.map(user => user.theme);\n        // let bkg = themes.map(theme => theme )\n        // let backgroundImg = `/${users.theme}.jpg`\n        // console.log(bkg)\n        this.setState({ users: users, selected: users, themes: themes });\n        // this.themeAndUserEqual()\n      })\n      .catch(err => console.log(err));\n  };\n\n  componentDidMount = () => {\n    this.getAllUsers();\n    console.log(this.state.theme);\n  };\n\n  filterUsers = input => {\n    console.log(this.state.users);\n    console.log(this.state.selected);\n\n    let selected = this.state.users.filter(el => {\n      return (\n        el.username.toLowerCase().includes(input.toLowerCase()) ||\n        el.theme.toLowerCase().includes(input.toLowerCase()) ||\n        el.space_name.toLowerCase().includes(input.toLowerCase())\n      );\n    });\n\n    console.log(selected);\n    this.setState({ selected: selected });\n  };\n\n  render() {\n    return (\n      <div>\n        <Navbar filterUsers={this.filterUsers} />\n\n        <div\n          style={{\n            backgroundColor: \"rgba(255, 255, 255, 0.04)\",\n            padding: \"1.2em 2em\",\n            minHeight: \"90vh\"\n          }}\n        >\n          <h1\n            style={{\n              textAlign: \"left\",\n              fontSize: \"40px\",\n              margin: \"0.9em auto 0.5em auto\",\n              width: \"77%\",\n              paddingLeft: \"1em\",\n              paddingBottom: \"0.3em\"\n            }}\n          >\n            Discover\n          </h1>\n\n          <div>\n            <div style={{ display: \"none\" }}>\n              <Profile />\n            </div>\n\n            {this.state.selected.map(user => {\n              return (\n                <div key={user._id} className=\"one-user\">\n                  <Link to={`/${user._id}`}>\n                    <div\n                      style={{\n                        width: \"85%\",\n                        fontSize: \"22px\",\n                        margin: \"0.5em auto\",\n                        borderBottom: \"1px solid grey\",\n                        textAlign: \"center\",\n                        paddingBottom: \"3.5em\"\n                      }}\n                    >\n                      <h3>{user.space_name} </h3>\n                      <div\n                        style={\n                          {\n                            // display:\"flex\", flexDirection:\"row\", width: \"30%\"\n                          }\n                        }\n                      >\n                        <h3\n                          style={{\n                            margin: \"0.5em auto\",\n                            fontSize: \"15px\",\n                            textAlign: \"center\"\n                          }}\n                        >\n                          Theme:{user.theme}\n                          <br />\n                          Created By {user.username}\n                        </h3>\n\n                        <div className=\"containers\">\n                          <img\n                            src={\"/images/\" + user.theme + \".jpg\"}\n                            style={{\n                              display: \"block\",\n                              width: \"100%\",\n                              height: \"auto\",\n                              margin: \"0 auto\"\n                            }}\n                          />\n                          <div className=\"overlay\">\n                            Explore {user.space_name}\n                          </div>\n                        </div>\n                        {/* <br/>\n                      <h3 style={{ width:\"28%\", margin:\"0.5em 2em\", fontSize:\"15px\", display:\"flex\"}}>Creator:{user.username}</h3> */}\n                      </div>\n                    </div>\n                  </Link>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n        <footer>Rose Beatty 2019</footer>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport Home from '../pages/Home'\n\nclass SearchBar extends Component {\n  state = {\n    users: [],\n    input: \"\",\n    selected: [],\n    themes: [],\n    selectedThemes: [],\n    referrer: \"\"\n    // goHome: false,\n  };\n\n  handleInput = e => {\n    console.log(this.props);\n    const { value } = e.target;\n    this.props.filterUsers(value);\n    this.setState({ input: value});\n    \n  };\n\n  goHome = () => {\n    this.setState({referrer: '/'});\n    \n  }\n\n  render() {\n\n    const {referrer} = this.state;\n\n    return (\n      <li onClick={this.goHome} className='nav-item' style={{\"display\":\"flex\"}}>\n        <input\n          id=\"search-input\"\n          type=\"text\"\n          name=\"search\"\n          onChange={this.handleInput}\n          value={this.state.input}\n          placeholder=\"Search...\"\n        />\n        \n        { referrer && <Redirect to={referrer} />}\n        {/* {this.state.input.length > 0 && (\n          <Redirect\n            to={{\n              pathname: \"/\",\n              state: { selected: this.state.selected }\n            }}\n          />\n        )} */}\n        <button onSubmit={this.submit} type=\"submit\" id=\"search-button\">\n          Search\n        </button>\n      </li>\n    );\n  }\n}\n\nexport default withAuth(SearchBar);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css'\nimport SearchBar from \"./SearchBar\";\n\nclass Navbar extends Component {\n  submitSearch = e => {\n    e.preventDefault();\n    this.props.history.push(`/`);\n  };\n\n\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div>\n        {isLoggedin ? (\n          <nav className=\"navbar navbar-expand-lg navbar-dark\" id=\"navbar\">\n          <span className=\"navbar-brand\">\n          <Link to=\"/\">\n                  <p id=\"logo\">Exhibit Me</p>\n                </Link>\n              </span>\n              <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                  <span className=\"navbar-toggler-icon\" style={{\"color\":\"white\"}}></span>\n               </button>\n          <div className=\"collapse navbar-collapse flex-grow-1\" id=\"navbarSupportedContent\">\n            <ul className=\"nav navbar-nav\">\n              <li id=\"home\" className=\"nav-item\" >\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li className=\"nav-item\" >\n                <Link to=\"/profile\">Profile</Link>\n              </li>\n             \n              <SearchBar\n                submitSearch={this.submitSearch}\n                filterUsers={this.props.filterUsers}\n              /> \n             \n              \n              <li className=\"nav-item\">\n                <button  id=\"logout-btn\" onClick={logout}>Logout</button>\n              </li>\n            </ul>\n            </div>\n              \n          </nav>\n        \n        ) : (\n          <nav className=\"nav-style\">\n            <ul>\n              <li>\n                <Link to=\"/login\">\n                  {\" \"}\n                  <button>Login</button>{\" \"}\n                </Link>\n              </li>\n              <br />\n              <li>\n                <Link to=\"/signup\">\n                  {\" \"}\n                  <button className=\"logout-btn\">Signup</button>{\" \"}\n                </Link>\n              </li>\n            </ul>\n          </nav>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\n\nclass Signup extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    space_name: \"\",\n    theme: \"\",\n    email: \"\",\n    \n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const {\n      username,\n      password,\n      space_name,\n      theme,\n      email,\n      \n    } = this.state;\n    //  console.log('Signup -> form submit', { username, password });\n    this.props.signup({\n      username,\n      password,\n      space_name,\n      theme,\n      email,\n      \n    }); // props.signup is Provided by withAuth() and Context API\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const {\n      username,\n      password,\n      space_name,\n      theme,\n      email,\n      \n    } = this.state;\n    return (\n      <div>\n        <Navbar />\n        <div\n          style={{\n            backgroundColor: \"rgba(255, 255, 255, 0.04)\",\n            padding: \"7vh 0\"\n          }}\n        >\n          <h1>Sign Up</h1>\n          <form onSubmit={this.handleFormSubmit} id=\"sign-up\">\n            <label>Username:</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={username}\n              onChange={this.handleChange}\n            />\n\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n            />\n\n            <label>Email:</label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={this.handleChange}\n            />\n            {/* <label>Your Space's Theme:</label>\n            <input\n              type=\"text\"\n              name=\"theme\"\n              value={theme}\n              onChange={this.handleChange}\n            /> */}\n\n            <label>Theme:</label>\n            <select\n              value={theme}\n              name=\"theme\"\n              id=\"theme\"\n              onChange={this.handleChange}\n              style={{ width: \"12%\", height: \"95%\", margin: \"1vh auto\" }}\n              >\n               <option id=\"selected\" value=\"pick\">\n                Pick a theme\n              </option>\n              <option id=\"selected\" value=\"bali\">\n                Bali\n              </option>\n              <option id=\"selected\" value=\"nature\">\n                Nature\n              </option>\n              <option id=\"selected\" value=\"grass\">\n                Grass\n              </option>\n              <option id=\"selected\" value=\"trippy\">\n                Trippy\n              </option>\n              <option id=\"selected\" value=\"festival\">\n                Festival\n              </option>\n              <option id=\"selected\" value=\"winter\">\n                Winter\n              </option>\n              <option id=\"selected\" value=\"mountains\">\n               Mountains\n              </option>\n              <option id=\"selected\" value=\"canyon\">\n                Canyon\n              </option>\n            </select>\n\n            <label>Name Your 3D Space:</label>\n            <input\n              type=\"text\"\n              name=\"space_name\"\n              value={space_name}\n              onChange={this.handleChange}\n            />\n\n            <br />\n\n            <input\n              style={{\n                width: \"8%\",\n                margin: \"1.5vh auto\",\n                backgroundColor: \"#2ab193e5\"\n              }}\n              type=\"submit\"\n              value=\"Signup\"\n            />\n          </form>\n\n          <p>Already have account?</p>\n          <Link to={\"/login\"}> Login</Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\n\nclass Login extends Component {\n  state = { username: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    this.props.login({ username, password });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div>\n        <Navbar />\n        <div\n          style={{\n            backgroundColor: \"rgba(255, 255, 255, 0.04)\",\n            paddingBottom: \"50vh\",\n            paddingTop: \"20vh\"\n          }}\n        >\n          <h1>Login</h1>\n          <form onSubmit={this.handleFormSubmit} id=\"log-in\">\n            <label>Username:</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={username}\n              onChange={this.handleChange}\n            />\n\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n            />\n\n            <input\n              style={{\n                width: \"50%\",\n                margin: \"4vh auto\",\n                backgroundColor: \"#2ab193e5\"\n              }}\n              type=\"submit\"\n              value=\"Login\"\n            />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport \"aframe\";\nimport { Scene } from \"aframe-react\";\nimport \"aframe-extras\";\n\n\nclass VRScene extends Component {\n  constructor(props) {\n    super(props)\n  this.state = {\n      theme:this.props.user.theme,\n      backgroundPath:`/images/${this.props.user.theme}.jpg`,\n      \n    };\n  }\n\n  render() {\n    console.log(this.props);\n    \n    return (\n      <div className=\"vrscene\" >\n        <div id=\"myEmbeddedScene\">\n          <Scene id=\"scene\" embedded>\n            <a-assets id=\"assets-id\">\n             <img id=\"sky\" src={this.state.backgroundPath}></img>\n            </a-assets>\n            <a-camera position=\"40 10 0\"></a-camera>\n\n            <a-sky src=\"#sky\"></a-sky>\n            {/* <a-videosphere src=\"worm.mp4\"></a-videosphere> */}\n            {/* <a-sound src=\"src: url(Will.mpeg)\" autoplay=\"true\" position=\"0 2 5\"></a-sound> */}\n            {/* <a-videosphere src=\"africa.mp4\"></a-videosphere> */}\n          </Scene>\n         \n        </div>\n       \n      </div>\n    );\n  }\n}\n\nexport default withAuth(VRScene);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Comment from \"../lib/comments-service\";\nimport axios from \"axios\";\n\nclass addComment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      input: \"\",\n      initialComments: []\n    };\n  }\n  handleInput = e => {\n    const { value } = e.target;\n    this.setState({ input: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const userId = this.props.user._id;\n    console.log(userId);\n    const comment = this.state.input;\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/comments/create/${userId}`, {\n        comment,\n        userId\n      })\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        const userData = response.data;\n        this.props.getComments();\n        this.setState({ initialComments: userData });\n        console.log(this.state.initialComments);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  componentDidMount() {\n    this.props.getComments();\n  }\n\n  cancelComment = e => {\n    e.preventDefault();\n    this.setState({ input: \"\" });\n    return false;\n  };\n\n  render() {\n    // const {comments} = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          id=\"create-comment\"\n          onChange={this.handleInput}\n          type=\"text\"\n          name=\"comment\"\n          value={this.state.input}\n          placeholder=\"Add a public comment...\"\n        ></input>\n\n        <button className=\"comments-btns\">COMMENT</button>\n        <button className=\"comments-btns\" onClick={this.cancelComment}>\n          CANCEL\n        </button>\n      </form>\n    );\n  }\n}\nexport default withAuth(addComment);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport AddComment from \"./AddComment\";\n\nclass Comments extends Component {\n  state = {\n    comments: [],\n    input: \"\",\n    commentId: [],\n    initialComments: [],\n    canDelete: true,\n    comment: []\n  };\n\n  componentDidMount = () => {\n    this.getComments();\n    console.log(this.props);\n    console.log(this.state.comments);\n  };\n\n  getComments = () => {\n    const id = this.props.user._id;\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/comments/${id}`)\n      .then(response => {\n        //PROBLEM\n        const userData = response;\n        this.setState({ initialComments: userData.data.comments });\n        console.log(userData);\n        console.log(this.state.initialComments);\n        this.findCommon();\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  findCommon = () => {\n    //    let  theComments  = this.state.theComments;\n    let initialComments = this.state.initialComments;\n\n    axios.get(`${process.env.REACT_APP_API_URL}/comments`).then(response => {\n      let theComments = response.data;\n\n      let matchingComments = theComments\n        .filter(comment => initialComments.includes(comment._id))\n        .map(comment => comment);\n\n      this.setState({ comment: matchingComments, comments: theComments });\n\n      console.log(matchingComments);\n      console.log(theComments);\n    });\n  };\n\n  deleteComment = id => {\n    const comment = this.state.comment;\n    const newList = this.state.initialComments;\n    console.log(id);\n    const commentId = id;\n    console.log(\"Hello\", comment);\n\n    let newCommentsList = comment.filter(el => {\n      return el._id !== id;\n    });\n\n    axios\n      .delete(`${process.env.REACT_APP_API_URL}/comments/delete/${commentId}`)\n      .then(response => {\n        console.log(\"Hello\", response);\n        const user = response.data;\n        console.log(user);\n        //    if (finalCommentsList > 1) {\n        this.setState({ comment: newCommentsList });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  // updateComment = () => {\n  //     const comment  = this.state.input;\n\n  //     const userId = this.props.user._id;\n\n  //     axios.patch(`http://localhost:5000/comments/update/${userId}`, {\n  //         comment, userId\n  //     })\n  //     .then(response => {\n  //         console.log(\"Hello\", response.data);\n  //         const user = response.data;\n  //         this.setState({comments: user.comments})\n  //     })\n  //     .catch(err => {\n  //         console.log(err);\n  //       });\n\n  //}\n\n  render() {\n    const { comment } = this.state;\n    const commentsList = comment.reverse();\n\n    return (\n      <div>\n        <div id=\"comments-wrapper\">\n          <h3>Comments</h3>\n          <div className=\"comment\">\n            <AddComment getComments={this.getComments} />\n            <div>\n              {commentsList.map((user, index) => {\n                return (\n                  <div key={user._id} className=\"comment\">\n                    <h3>{user.comment} </h3>\n\n                    <img\n                      style={{\n                        marginTop: \"-1.5em\",\n                        marginBottom: \"0.5em\",\n                        height: \"5.0vh\",\n                        display: \"block\",\n                        cursor: \"pointer\"\n                      }}\n                      src=\"trash.png\"\n                      id=\"delete-btn\"\n                      className=\"comments-btns\"\n                      onClick={e => this.deleteComment(user._id)}\n                    />\n\n                    <hr />\n\n                    {/* <DeleteComment getComments={this.getComments}/> */}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Comments);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport Comments from \"./Comments\";\nimport \"aframe-extras\";\n\nclass Profile extends Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    space_name: \"\",\n    theme: \"\",\n    comments: [],\n    file: null,\n    fileName: \"\",\n    path: \"\",\n    objects: [],\n    backgroundImage: \"\",\n    // background: null,\n    bkgImages: [],\n    fileExists: false\n  };\n\n  onChangeHandler = e => {\n    this.setState({\n      file: e.target.files[0]\n    });\n  };\n\n  onBkgChangeHandler = e => {\n    this.setState({\n      background: e.target.files[0]\n\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault()\n    let id = this.props.user._id;\n    console.log(this.props.user._id);\n    let { file } = this.state;\n    let formData = new FormData();\n    formData.append(\"file\", file);\n\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/users/upload/${id}`,\n        formData,\n        config\n      )\n      .then(res => {\n        alert(\"The file was successfully uploaded\");\n        console.log(res);\n        const theFile = this.fileUpload.files[0];\n        this.setState({ fileName: theFile.name, objects: res.data.objects });\n      \n        this.uploadFile();\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  // handleImageSubmit = e => {\n  //   e.preventDefault();\n  //   let id = this.props.user._id\n  //   let file = this.state.background;\n  //   let formData = new FormData();\n  //   formData.append(\"file\", file);\n  //   console.log(file)\n  //   console.log(this.state.background)\n  //   const config = {\n  //     headers: {\n  //       \"content-type\": \"multipart/form-data\"\n  //     }\n  //   };\n\n  //   axios\n  //     .post(`${process.env.REACT_APP_API_URL}/users/uploadBackground/${id}`, formData, config)\n  //     .then(res => {\n  //       alert(\"The file was successfully uploaded\");\n  //       console.log(res)\n  //     const theFile = this.backgroundUpload.files[0];\n  //     this.setState({ backgroundImage:theFile.name, bkgImages: res.data.backgrounds });\n  //     this.uploadBackground()\n\n  //     })\n  //     .catch(error => {\n  //         console.log(error)\n  //     });\n\n  // }\n\n  // uploadBackground = () => {\n  //   console.log(this.state.backgroundImage)\n  //   let { backgroundImage } = this.state;\n\n  //   var assetImg = document.createElement(\"img\");\n  //   assetImg.setAttribute(\"src\", `${process.env.REACT_APP_API_URL}/images/` + backgroundImage);\n  //   assetImg.setAttribute(\"id\", backgroundImage);\n  //   assetImg.setAttribute(\"crossorigin\", \"anonymous\");\n  //   document.getElementById(\"assets-id\").appendChild(assetImg)\n\n  //   var skyId = '#' + assetImg.id;\n\n  //   var bkgImg = document.createElement('a-sky')\n  //   bkgImg.setAttribute(\"src\", skyId);\n  //   document.getElementById(\"scene\").appendChild(bkgImg);\n  //   console.log(bkgImg);\n  // }\n\n  // uploadMusic = () => {\n  //   console.log(this.state.backgroundMusic)\n  //   let { backgroundMusic } = this.state;\n\n  //   var assetMusic = document.createElement(\"a-sound\");\n  //   assetMusic.setAttribute(\"src\", src: url(`${process.env.REACT_APP_API_URL}/music/` + backgroundMusic));\n  //   assetMusic.setAttribute(\"id\", backgroundMusic);\n  //   assetMusic.setAttribute(\"crossorigin\", \"anonymous\");\n  //   document.getElementById(\"scene\").appendChild(assetMusic)\n\n  // }\n\n  uploadFile = () => {\n    let { fileName } = this.state;\n    var assetEl = document.createElement(\"a-asset-item\");\n    assetEl.setAttribute(\n      \"src\",\n      `${process.env.REACT_APP_API_URL}/images/` + fileName\n    );\n    assetEl.setAttribute(\"id\", fileName);\n    document.getElementById(\"assets-id\").appendChild(assetEl);\n\n    var gltfModelId = \"#\" + assetEl.id;\n    console.log(assetEl.id);\n\n    var entityEl = document.createElement(\"a-entity\");\n    entityEl.setAttribute(\"gltf-model\", gltfModelId);\n    entityEl.setAttribute(\"id\", \"rig\");\n    entityEl.setAttribute(\"wasd-controls\");\n\n    // entityEl.setAttribute(\"wasd-controls\", \"adInverted:false\");\n    // entityEl.setAttribute(\"wasd-controls\", \"wsInverted:false\");\n    entityEl.setAttribute(\"wasd-controls\", \"acceleration:5005\");\n    // entityEl.setAttribute(\"wasd-controls\", \"fly:true\");\n    entityEl.setAttribute(\"look-controls\");\n    // entityEl.setAttribute(\n    //   \"sound\",\n    //   \"src: url(Will.mpeg);\"\n    // );\n    document.getElementById(\"scene\").appendChild(entityEl);\n    console.log(entityEl);\n  };\n\n  showForm = e => {\n    e.preventDefault();\n    const editProfileForm = document.getElementById(\"edit-profile-form\");\n    editProfileForm.style.display = \"block\";\n    const userDetails = document.getElementById(\"user-details\");\n    userDetails.style.display = \"none\";\n  };\n\n  showCreateButton = () => {\n    const createButton = document.getElementById(\"create-btn\");\n    createButton.style.display = \"block\";\n    const uploadForm = document.getElementById(\"upload\");\n    uploadForm.style.display = \"none\";\n  };\n\n  //   showBkgCreateButton = () => {\n  //     const createButton = document.getElementById(\"create-bkg-btn\");\n  //     createButton.style.display = \"block\";\n  //     const uploadForm = document.getElementById(\"upload-bkg\");\n  //     uploadForm.style.display = \"none\";\n  // }\n\n  showUpload = e => {\n    e.preventDefault();\n    const uploadForm = document.getElementById(\"upload\");\n    uploadForm.style.display = \"block\";\n    const createButton = document.getElementById(\"create-btn\");\n    createButton.style.display = \"none\";\n  };\n\n  // showImageUpload = (e) => {\n  //   e.preventDefault();\n  //   const uploadForm = document.getElementById(\"upload-bkg\");\n  //   uploadForm.style.display = \"block\";\n  //   const createButton = document.getElementById(\"create-bkg-btn\");\n  //   createButton.style.display = \"none\";\n  // };\n\n  handleInput = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  editProfile = e => {\n    e.preventDefault();\n    let hideProfileForm = document.getElementById(\"edit-profile-form\");\n    hideProfileForm.style.display = \"none\";\n    let userDetails = document.getElementById(\"user-details\");\n    userDetails.style.display = \"block\";\n\n    console.log(this.props.user);\n    const { username, email, space_name, theme } = this.state;\n\n    const id = this.props.user._id;\n\n    axios\n      .put(`${process.env.REACT_APP_API_URL}/users/update/${id}`, {\n        username,\n        email,\n        space_name,\n        theme\n      })\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        // const user = response.data;\n        this.setState({ username, email, space_name, theme });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  deleteObject = () => {\n    let modelId = this.state.objects.pop();\n\n    axios\n      .delete(`${process.env.REACT_APP_API_URL}/users/deleteObject/${modelId}`)\n      .then(response => {\n        this.setState({ path: null, fileName: null });\n        let file = document.getElementById(\"rig\");\n        file.remove();\n        console.log(\"Hello\", response);\n        //   const user = response.data;\n        //   console.log(user)\n        this.setState({ path: null, file: null });\n        //   this.setState({initalComments: user.comments})\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  //   deleteBackground = () => {\n  //     let backgroundId = this.state.backgroundId\n  //     console.log(this.state.backgroundId)\n\n  //  axios.delete(`${process.env.REACT_APP_API_URL}/users/deleteBackground/${backgroundId}`)\n  //  .then(response => {\n\n  //      this.setState({ backgroundImage:null})\n  //      let file = document.getElementById(this.state.backgroundImage)\n  //      file.remove()\n  //        console.log(\"Hello\", response);\n  //   const user = response.data;\n  //   console.log(user)\n  //   this.setState({path: null, file:null})\n  //   this.setState({initalComments: user.comments})\n  //  })\n  //  .catch(err => {\n  //      console.log(err);\n  //    });\n\n  //  }\n\n  // noFile = e => {\n  //   if (this.state.fileExists === false) {\n  //     e.preventDefault();\n\n  //   }\n  // };\n\n  componentDidMount = () => {\n    let id = this.props.user._id;\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        const user = response.data;\n        this.setState({\n          username: user.username,\n          email: user.email,\n          space_name: user.space_name,\n          theme: user.theme,\n          comments: user.comments\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/filename`)\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        let newObjects = response.data.map(object => object._id);\n\n        this.setState({\n          path: null,\n          fileName: response.data.pop().path,\n          objects: newObjects\n        });\n        this.uploadFile();\n\n        if (this.state.fileName === \"\") {\n          console.log(\"Hello\")\n          this.setState({ fileExists: false });\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    //   axios\n    // .get(`${process.env.REACT_APP_API_URL}/users/getBackground`)\n    // .then(response => {\n    //   console.log(\"Hello\", response);\n    //   let newBackground = response.data.map(image => image._id )\n    //   let backgroundId = response.data._id\n    //   this.setState({\n    //     backgroundImage: response.data[0].path, background:newBackground, backgroundId: backgroundId\n    //   });\n    //   this.uploadBackground()\n\n    //   console.log(this.state.path)\n    // })\n    // .catch(err => {\n    //   console.log(err);\n    // });\n  };\n\n  // startBackground = () => {\n  //   axios\n  //   .get(`${process.env.REACT_APP_API_URL}/users/getBackground`)\n  //   .then(response => {\n  //     console.log(\"Hello\", response);\n  //     let newBackground = response.data.map(image => image._id )\n  //     let backgroundId = response.data._id\n  //     this.setState({\n  //       backgroundImage: response.data[0].path, background:newBackground, backgroundId: backgroundId\n  //     });\n  //     this.uploadBackground()\n\n  //     console.log(this.state.path)\n  //   })\n  //   .catch(err => {\n  //     console.log(err);\n  //   });\n\n  // }\n\n  render() {\n\n    const enabled = this.state.file !== null \n\n    return (\n      <div\n        // onClick={this.startBackground}\n        id=\"profile-wrapper\"\n      >\n        <div className=\"container env\">\n          <div className=\"profile-details extra-details\">\n            <h1 id=\"space-name\">\n              {this.state.space_name}\n            </h1>\n            <div id=\"user-details\">\n              <h3>\n                Username: <span>{this.state.username}</span>{\" \"}\n              </h3>\n              <h3>\n                Email: <span>{this.state.email}</span>\n              </h3>\n              <h3>\n                Theme: <span>{this.state.theme}</span>\n              </h3>\n\n              <div >\n                <a href=\"\" onClick={this.showForm}>\n                  <h2\n                  id=\"edit-profile-btn\"\n                   \n                  >\n                    Edit Profile\n                  </h2>\n                </a>\n              </div>\n            </div>\n            <form id=\"edit-profile-form\" onSubmit={this.editProfile}>\n              <label>Username:</label>\n              <input\n                type=\"text\"\n                value={this.state.username}\n                name=\"username\"\n                onChange={this.handleInput}\n              ></input>\n              <label>Email:</label>\n              <input\n                type=\"email\"\n                value={this.state.email}\n                name=\"email\"\n                onChange={this.handleInput}\n              ></input>\n              <label>Space Name:</label>\n              <input\n                type=\"text\"\n                value={this.state.space_name}\n                name=\"space_name\"\n                onChange={this.handleInput}\n              ></input>\n              {/* <label>Theme:</label>\n              <input\n                type=\"text\"\n                value={this.state.theme}\n                name=\"theme\"\n                onChange={this.handleInput}\n              ></input> */}\n              <button id=\"save-profile-btn\">Save</button>\n            </form>\n          </div>\n          {/* <div id=\"create-delete\" className=\"profile-details\">\n            <button style={{color:\"white\", width:\"70%\"}} id=\"create-bkg-btn\" onClick={this.showImageUpload}>Change Background</button>\n            <div  id=\"upload-bkg\" style={{display:\"none\"}}>\n               <ul className=\"env\" style={{ display:\"flex\", flexDirection:\"row\", padding:\"1em\"}}>\n                                     \n                    <li>\n                \n                        <h2>Upload a 3D background into your space </h2>\n                        \n                        {  this.state.fileExists ?\n                          <form onSubmit={this.handleImageSubmit} encType=\"multipart/form-data\" >\n                          <input\n                            onChange={this.onBkgChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.backgroundUpload = ref)}\n                            style={{paddingLeft:\"20%\"}}\n                        />\n                          \n                        <button onClick={this.showBkgCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        \n                        <a onClick={this.deleteBackground} style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"transparent\", width:\"60%\", textAlign:\"center\", padding:\"1em\", margin:\"0 auto\"}}>\n                        Delete current background\n                        </a>\n                        </form>\n                          :  \n                         <form onSubmit={this.noFile} encType=\"multipart/form-data\" >\n                         <input\n                            onChange={this.onBkgChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.backgroundUpload = ref)}\n                            style={{paddingLeft:\"20%\"}}\n                        />\n                          \n                        <button onClick={this.showBkgCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        \n                        <a onClick={this.deleteBackground} style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"transparent\", width:\"60%\", textAlign:\"center\", padding:\"1em\", margin:\"0 auto\"}}>\n                        Delete current background\n                        </a>\n                        </form>\n                        }\n             \n                   </li> \n                </ul>\n              </div> */}\n\n          {/* <div id=\"create-delete\" className=\"profile-details\">\n            <button style={{color:\"white\", width:\"70%\"}} id=\"create-bkg-btn\" onClick={this.showImageUpload}>Change Background</button>\n            <div  id=\"upload-music\" style={{display:\"none\"}}>\n               <ul className=\"env\" style={{ display:\"flex\", flexDirection:\"row\", padding:\"1em\"}}>\n                                     \n                    <li>\n                \n                        <h2>Upload Background Music into your Space </h2>\n                        \n                        {  this.state.fileExists ?\n                          <form onSubmit={this.handleImageSubmit} encType=\"multipart/form-data\" >\n                          <input\n                            onChange={this.onMusicChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.musicUpload = ref)}\n                            style={{paddingLeft:\"20%\"}}\n                        />\n                          \n                        <button onClick={this.showMusicCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        \n                        <a onClick={this.deleteMusic} style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"transparent\", width:\"60%\", textAlign:\"center\", padding:\"1em\", margin:\"0 auto\"}}>\n                        Delete current music\n                        </a>\n                        </form>\n                          :  \n                         <form onSubmit={this.noFile} encType=\"multipart/form-data\" >\n                         <input\n                            onChange={this.onMusicChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.musicUpload = ref)}\n                            style={{paddingLeft:\"20%\"}}\n                        />\n                          \n                        <button onClick={this.showMusicCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        \n                        <a onClick={this.deleteMusic} style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"transparent\", width:\"60%\", textAlign:\"center\", padding:\"1em\", margin:\"0 auto\"}}>\n                        Delete current music\n                        </a>\n                        </form>\n                        }\n             \n                   </li> \n                </ul>\n              </div> */}\n\n          <button id=\"create-btn\" onClick={this.showUpload}>\n            Create / Delete Object\n          </button>\n          <div className=\"profile-details\" id=\"upload\">\n            <ul\n              className=\"env\"\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                padding: \"1em\",\n                marginTop: \"1.5em\"\n              }}\n            >\n              <li>\n                <h2>Upload a 3D Object Into Your Space </h2>\n                <p style={{ fontSize: \"12px\", marginBottom:\"0.5em\" }}>(.glb format)</p>\n\n                {/* {this.state.fileExists ? ( */}\n                  <form\n                    onSubmit={this.handleSubmit}\n                    encType=\"multipart/form-data\"\n                  >\n                    <input\n                      onChange={this.onChangeHandler}\n                      type=\"file\"\n                      name=\"file\"\n                      ref={ref => (this.fileUpload = ref)}\n                      style={{color:\"black\", backgroundColor:\"white\", margin:\"0 auto\", width:\"70%\" }}\n                    />\n                    <button\n                      id=\"save-object-btn\"\n                      onClick={this.showCreateButton}\n                      type=\"submit\"\n                      value=\"upload\"\n                      disabled = {!enabled}\n                    >\n                      Save\n                    </button>\n                    <a\n                      style={{\n                        border: \"1px solid white\",\n                        color: \"white\",\n                        backgroundColor: \"#2ab193e5\",\n                        width: \"60%\",\n                        textAlign: \"center\",\n                        padding: \"0.6em\",\n                        margin: \"1em auto\",\n                        cursor: \"pointer\"\n                      }}\n                      onClick={this.deleteObject}\n                    >\n                      Delete current object\n                    </a>\n                  </form>\n                {/* ) : (\n                  <form onSubmit={this.noFile} encType=\"multipart/form-data\">\n                    <input\n                      onChange={this.onChangeHandler}\n                      type=\"file\"\n                      name=\"file\"\n                      ref={ref => (this.fileUpload = ref)}\n                      style={{ paddingLeft: \"20%\" }}\n                    />\n                    <button\n                      onClick={this.showCreateButton}\n                      // type=\"submit\"\n                      // value=\"upload\"\n                      style={{ color: \"white\" }}\n                    >\n                      Save\n                    </button>\n                    <a\n                      style={{\n                        border: \"1px solid white\",\n                        color: \"white\",\n                        backgroundColor: \"#2ab193e5\",\n                        width: \"60%\",\n                        textAlign: \"center\",\n                        padding: \"0.6em\",\n                        margin: \"1em auto\",\n                        cursor: \"pointer\"\n                      }}\n                      onClick={this.deleteObject}\n                    >\n                      Delete current object\n                    </a>\n                  </form> */}\n                {/* )} */}\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        <Comments comments={this.state.comments} />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\nimport VRScene from \"./../components/VRScene\";\nimport EditProfile from \"./../components/Profile\";\nimport axios from \"axios\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\n\n\nclass Profile extends Component {\n  state = {\n    users: [],\n    username: \"\",\n    space_name: \"\",\n    theme: \"\",\n    background_image:\"\",\n    backgroundPath: \"\"\n  };\n\n  componentDidMount() {\n    const id = this.props.user._id;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then(response => {\n        console.log(\"Hello\", response.data.username);\n        const user = response.data;\n        this.setState({\n          user: user,\n          username: user.username,\n          space_name: user.space_name,\n          theme: user.theme,\n          background_image: user.background,\n        });\n        this.getAllUsers()\n      })\n      .catch(err => {\n        console.log(err);\n      });\n     \n    }\n\n    getAllUsers = () => {\n      axios\n        .get(`${process.env.REACT_APP_API_URL}/users`)\n        .then(response => {\n          console.log(response.data[0].username);\n          const users = response.data;\n          let themes = users.map(user => user.theme)\n          console.log(themes)\n          this.setState({ users: users, selected: users, themes:themes });\n         \n        })\n        .catch(err => console.log(err));\n    };\n  \n  \n    filterUsers = input => {\n      console.log(this.state.users);\n      console.log(this.state.selected);\n  \n    \n      let selected = this.state.users.filter(el => {\n          return el.username.toLowerCase().includes(input.toLowerCase()) || \n          el.theme.toLowerCase().includes(input.toLowerCase()) ||\n          el.space_name.toLowerCase().includes(input.toLowerCase())\n        });\n   \n     \n      console.log(selected);\n      this.setState({ selected: selected});\n    };\n\n  render() {\n    return (\n      <div>\n        <Navbar filterUsers={this.filterUsers}/>\n        <div style={{backgroundColor:'rgba(255, 255, 255, 0.04)'}}>\n        <div className=\"vrscene-h1\">\n          <h1 style={{marginTop:\"0.5em\"}}>\n            Welcome back to {this.state.space_name}, {this.state.username}\n          </h1>\n        </div>\n        <VRScene background = {this.background} />\n        <EditProfile  />\n        </div>\n        \n        <footer ><p>Rose Beatty 2019</p></footer>\n        \n      </div>\n    );\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\n\nclass postComment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      input: \"\",\n      initialComments: []\n    };\n  }\n  handleInput = e => {\n    const { value } = e.target;\n    this.setState({ input: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const userId = this.props.getPathname.slice(1);\n    console.log(this.props.getPathname);\n    const comment = this.state.input;\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/comments/create/${userId}`, {\n        comment,\n        userId\n      })\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        const userData = response.data;\n        this.props.getComments();\n        this.setState({ initialComments: userData });\n        console.log(this.state.initialComments);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  componentDidMount() {\n    this.props.getComments();\n  }\n\n  cancelComment = e => {\n    e.preventDefault();\n    this.setState({ input: \"\" });\n    return false;\n  };\n\n  render() {\n    // const {comments} = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          id=\"create-comment\"\n          onChange={this.handleInput}\n          type=\"text\"\n          name=\"comment\"\n          value={this.state.input}\n          placeholder=\"Add a public comment...\"\n        ></input>\n\n        <button className=\"comments-btns\">COMMENT</button>\n        <button className=\"comments-btns\" onClick={this.cancelComment}>\n          CANCEL\n        </button>\n      </form>\n    );\n  }\n}\nexport default withAuth(postComment);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport PostComment from \"./PostComment\";\n\nclass UserComments extends Component {\n  state = {\n    user: [],\n    comments: [],\n    input: \"\",\n    commentId: [],\n    initialComments: [],\n    userComments: [],\n    theComments: [],\n    userCom: []\n  };\n\n  componentDidMount = () => {\n    // console.log(this.props);\n\n    const id = this.props.getPathname;\n\n    console.log(this.props);\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users${id}`)\n      .then(response => {\n        this.setState({ user: response });\n        console.log(response);\n        this.setState({ userComments: response.data });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    this.getComments();\n\n    console.log(this.props);\n    console.log(this.props.getPathname);\n\n    // console.log(this.props.user._id)\n    // console.log(this.props.match.params)\n  };\n\n  getComments = () => {\n    const id = this.props.getPathname;\n    const { user } = this.state;\n    console.log(this.props);\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/comments${id}`)\n      .then(response => {\n        this.setState({ userComments: response.data.comments });\n        console.log(response);\n\n        this.findCommon();\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  findCommon = () => {\n    //    let  theComments  = this.state.theComments;\n    let userComments = this.state.userComments;\n\n    axios.get(`${process.env.REACT_APP_API_URL}/comments`).then(response => {\n      console.log(response);\n\n      let theComments = response.data;\n\n      let matchingComments = theComments\n        .filter(comment => userComments.includes(comment._id))\n        .map(comment => comment);\n\n      this.setState({ userCom: matchingComments });\n    });\n  };\n\n  // updateComment = () => {\n  //     const comment  = this.state.input;\n\n  //     const userId = this.props.user._id;\n\n  //     axios.patch(`http://localhost:5000/comments/update/${userId}`, {\n  //         comment, userId\n  //     })\n  //     .then(response => {\n  //         console.log(\"Hello\", response.data);\n  //         const user = response.data;\n  //         this.setState({comments: user.comments})\n  //     })\n  //     .catch(err => {\n  //         console.log(err);\n  //       });\n\n  //}\n\n  render() {\n    const commentsList = this.state.userCom.reverse();\n\n    return (\n      <div>\n        <div id=\"comments-wrapper\">\n          <h3>Comments</h3>\n          <div className=\"comment\">\n            <PostComment\n              getPathname={this.props.getPathname}\n              getComments={this.getComments}\n            />\n            <div>\n              {commentsList.map((comment, index) => {\n                return (\n                  <div key={comment._id} className=\"comment\">\n                    <h3>{comment.comment}</h3>\n                    <hr />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserComments);\n","import React, { Component } from \"react\";\nimport UserVRScene from \"./../components/UserVRScene\";\nimport axios from \"axios\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport UserComments from \"../components/UserComments\";\nimport Navbar from \"../components/Navbar\";\n\nclass UserPage extends Component {\n  state = {\n    users: [],\n    user: [],\n    fileName: \"\",\n    objects: [],\n    file: null,\n    objectId:\"\",\n    // path: \"\",\n    theme: \"\",\n    selected: [],\n    space_name: \"\",\n    userpath: this.props.location.pathname\n  };\n\n  // getUser = (id) => {\n  //   axios\n  //     .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n  //     .then(response => {\n  //       console.log(response);\n  //       const user = response.data;\n  //       this.setState({\n  //           user: user,\n  //           theme: user.theme,\n  //           space_name: user.space_name,\n  //           username: user.username,\n  //           objectId:\"\"\n\n  //         });\n  //         console.log(this.state.user)\n  //       return user\n  //     })\n  //     .catch(err => console.log(err));\n  // };\n\n  uploadFile = () => {\n    let { fileName } = this.state;\n    console.log(this.state.fileName)\n    var assetEl = document.createElement(\"a-asset-item\");\n    assetEl.setAttribute(\n      \"src\",\n      `${process.env.REACT_APP_API_URL}/images/` + fileName\n    );\n    assetEl.setAttribute(\"id\", fileName);\n    document.getElementById(\"assets-id\").appendChild(assetEl);\n\n    var gltfModelId = \"#\" + assetEl.id;\n    console.log(assetEl.id);\n\n    var entityEl = document.createElement(\"a-entity\");\n    entityEl.setAttribute(\"gltf-model\", gltfModelId);\n    entityEl.setAttribute(\"id\", \"rig\");\n    entityEl.setAttribute(\"wasd-controls\");\n\n    // entityEl.setAttribute(\"wasd-controls\", \"adInverted:false\");\n    // entityEl.setAttribute(\"wasd-controls\", \"wsInverted:false\");\n    entityEl.setAttribute(\"wasd-controls\", \"acceleration:5005\");\n    // entityEl.setAttribute(\"wasd-controls\", \"fly:true\");\n    entityEl.setAttribute(\"look-controls\");\n    // entityEl.setAttribute(\n    //   \"sound\",\n    //   \"src: url(12 Rokthaboat[Twrk].mp3); autoplay: true\"\n    // );\n    document.getElementById(\"scene\").appendChild(entityEl);\n    console.log(entityEl);\n  };\n\n  componentDidMount = () => {\n    const { id } = this.props.match.params;\n    //   let objectId = this.props.user.data.objects[0]\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        const user = response.data;\n        this.setState({\n          user: user,\n          theme: user.theme,\n          space_name: user.space_name,\n          username: user.username,\n          objects: user.objects\n        });\n        this.getAllUsers();\n        console.log(this.state.theme);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    this.getAllUsers();\n    \n  };\n\n\n  getFile = () => {\n    console.log(this.state.objects);\n    let objectId = this.state.objects.pop();\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/filename/${objectId}`)\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        // let newObjects = response.data.map(object => object._id )\n        // let newPath = response.data.pop()\n        this.setState({\n          fileName: response.data.path\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n    \n  };\n\n  getAllUsers = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users`)\n      .then(response => {\n        console.log(response.data);\n        const users = response.data;\n        // let themes = users.map(user => user.theme)\n        // let bkg = themes.map(theme => theme )\n        // let backgroundImg = `/${users.theme}.jpg`\n        // console.log(bkg)\n        this.setState({ users: users, selected: users });\n        this.getFile()\n        // this.themeAndUserEqual()\n      })\n      .catch(err => console.log(err));\n  };\n\n  filterUsers = input => {\n    console.log(this.state.users);\n    console.log(this.state.selected);\n\n    let selected = this.state.users.filter(el => {\n      return (\n        el.username.toLowerCase().includes(input.toLowerCase()) ||\n        el.theme.toLowerCase().includes(input.toLowerCase()) ||\n        el.space_name.toLowerCase().includes(input.toLowerCase())\n      );\n    });\n\n    console.log(selected);\n    this.setState({ selected: selected });\n  };\n\n  render() {\n    return (\n      <div id=\"hover\" >\n        <Navbar filterUsers={this.filterUsers} />\n        <div style={{ backgroundColor: \"rgba(255, 255, 255, 0.04)\" }}>\n          <h2 style={{ padding: \"1em 0 0.5em 0\" }}>\n            Welcome to {this.state.user.username}'s Space{\" \"}\n          </h2>\n          <UserVRScene uploadFile={this.uploadFile} theme={this.state.theme} />\n          {/* <UserProfile getPathname = {this.getPathname}/> */}\n          <UserComments getPathname={this.state.userpath} />\n        </div>\n        <footer>\n          <p>Rose Beatty 2019</p>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserPage);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../lib/AuthProvider';\n\nfunction AnonRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isLoggedin ? <Component {...props} /> : <Redirect to=\"/\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(AnonRoute);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nfunction PrivateRoute({\n  component: Component,\n  isLoggedin,\n  isLoading,\n  ...rest\n}) {\n  if (isLoading) {\n    return <h1>Loading</h1>;\n  } else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isLoggedin ? <Component {...props} /> : <Redirect to=\"/login\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport './App.css';\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport UserPage from './pages/UserPage';\nimport Navbar from './components/Navbar';\n\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\nclass App extends Component {\n\n  \n  render() {\n    return (\n      <div className=\"App\">\n       \n        <Switch>\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n          <PrivateRoute exact path=\"/\" component={Home} />\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n          <PrivateRoute exact path=\"/:id\" component={UserPage} />\n        </Switch>\n        </div>\n   \n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport AuthProvider from './lib/AuthProvider';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}