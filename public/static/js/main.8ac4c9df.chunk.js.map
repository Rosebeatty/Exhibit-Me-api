{"version":3,"sources":["lib/auth-service.js","lib/AuthProvider.js","components/SearchBar.js","components/Navbar.js","pages/Signup.js","pages/Login.js","components/UserVRScene.js","pages/Home.js","components/VRScene.js","components/AddComment.js","components/Comments.js","components/Profile.js","pages/Profile.js","components/PostComment.js","components/UserComments.js","pages/UserPage.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","webpack:///./src/index.js?b635"],"names":["axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","user","username","password","email","theme","space_name","post","then","data","response","get","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedin","isLoading","props","Component","AuthProvider","state","authService","setState","catch","err","console","log","me","value","children","users","input","selected","themes","selectedThemes","handleInput","e","target","filterUsers","goHome","id","type","name","onChange","placeholder","length","to","pathname","onSubmit","submit","className","onClick","handleFormSubmit","event","preventDefault","handleChange","style","backgroundColor","padding","width","height","margin","paddingBottom","paddingTop","getUser","userId","backgroundPath","upload","newImg","document","createElement","setAttribute","sky","scene","getElementById","appendChild","startVR","node","parentNode","removeChild","_id","color","border","fontSize","embedded","position","background","getAllUsers","map","componentDidMount","filter","el","toLowerCase","includes","minHeight","textAlign","paddingLeft","display","key","borderBottom","src","handleSubmit","comment","userData","getComments","initialComments","cancelComment","comments","commentId","canDelete","findCommon","theComments","matchingComments","deleteComment","newCommentsList","delete","commentsList","reverse","AddComment","index","marginTop","marginBottom","cursor","file","fileName","path","objects","backgroundImage","bkgImages","fileExists","onChangeHandler","files","formData","FormData","append","headers","res","alert","theFile","fileUpload","uploadFile","error","assetEl","gltfModelId","entityEl","showForm","showCreateButton","showUpload","editProfile","put","deleteObject","modelId","pop","remove","noFile","newObjects","object","textDecoration","href","flexDirection","encType","ref","background_image","getPathname","slice","userComments","userCom","PostComment","userpath","location","match","params","getFile","objectId","component","rest","render","App","exact","Signup","Login","Home","Profile","UserPage","ReactDOM"],"mappings":"+RAmCeA,EAFe,I,WA9B5B,aAAe,oBACbC,KAAKC,KAAOC,IAAMC,OAAO,CACvBC,QAASC,mCACTC,iBAAiB,I,mDAIdC,GAAO,IACJC,EAAgDD,EAAhDC,SAAUC,EAAsCF,EAAtCE,SAAUC,EAA4BH,EAA5BG,MAAOC,EAAqBJ,EAArBI,MAAOC,EAAcL,EAAdK,WAC1C,OAAOZ,KAAKC,KACTY,KAAK,eAAgB,CAAEL,WAAUC,WAAUC,QAAOC,QAAOC,eACzDE,MAAK,qBAAGC,U,4BAGPR,GAAO,IACHC,EAAuBD,EAAvBC,SAAUC,EAAaF,EAAbE,SAClB,OAAOT,KAAKC,KACTY,KAAK,cAAe,CAAEL,WAAUC,aAChCK,MAAK,qBAAGC,U,+BAIX,OAAOf,KAAKC,KAAKY,KAAK,eAAgB,IAAIC,MAAK,SAAAE,GAAQ,OAAIA,EAASD,U,2BAIpE,OAAOf,KAAKC,KAAKgB,IAAI,YAAYH,MAAK,SAAAE,GAAQ,OAAIA,EAASD,Y,QCzBhCG,IAAMC,gBAA7BC,E,EAAAA,SAAUC,E,EAAAA,SAGZC,EAAW,SAAAC,GACf,wLACY,IAAD,OACP,OACE,kBAACH,EAAD,MAGG,YAA6D,IAA1DI,EAAyD,EAAzDA,MAAOC,EAAkD,EAAlDA,OAAQlB,EAA0C,EAA1CA,KAAMmB,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,UAC3C,OACE,kBAACL,EAAD,eACEC,MAAOA,EACPC,OAAQA,EACRlB,KAAMA,EACNmB,OAAQA,EACRC,WAAYA,EACZC,UAAWA,GACP,EAAKC,eAfvB,EAAM,CAAeX,IAAMY,YA+EdC,E,2MApDbC,MAAQ,CAAEL,YAAY,EAAOpB,KAAM,KAAMqB,WAAW,G,EAapDH,OAAS,SAAAlB,GAAS,IACPC,EAAgDD,EAAhDC,SAAUC,EAAsCF,EAAtCE,SAAUC,EAA4BH,EAA5BG,MAAOC,EAAqBJ,EAArBI,MAAOC,EAAcL,EAAdK,WAE3CqB,EACGR,OAAO,CAAGjB,WAAUC,WAAUC,QAAOC,QAAOC,eAC5CE,MAAK,SAAAP,GAAI,OAAI,EAAK2B,SAAS,CAAEP,YAAY,EAAMpB,YAC/C4B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,EAG9BZ,MAAQ,SAAAjB,GAAS,IACPC,EAAuBD,EAAvBC,SAAUC,EAAaF,EAAbE,SAElBwB,EACGT,MAAM,CAAEhB,WAAUC,aAClBK,MAAK,SAAAP,GAAI,OAAI,EAAK2B,SAAS,CAAEP,YAAY,EAAMpB,YAC/C4B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,EAG9BV,OAAS,WACPO,EACGP,SACAZ,MAAK,kBAAM,EAAKoB,SAAS,CAAEP,YAAY,EAAOpB,KAAM,UACpD4B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,mFAjCT,IAAD,OAClBH,EACGM,KACAzB,MAAK,SAAAP,GAAI,OACR,EAAK2B,SAAS,CAAEP,YAAY,EAAMpB,KAAMA,EAAMqB,WAAW,OAE1DO,OAAM,SAAAC,GAAG,OACR,EAAKF,SAAS,CAAEP,YAAY,EAAOpB,KAAM,KAAMqB,WAAW,S,+BA6BtD,IAAD,EACiC5B,KAAKgC,MAArCJ,EADD,EACCA,UAAWD,EADZ,EACYA,WAAYpB,EADxB,EACwBA,KACvBiB,EAA0BxB,KAA1BwB,MAAOE,EAAmB1B,KAAnB0B,OAAQD,EAAWzB,KAAXyB,OAEvB,OACE,kBAACJ,EAAD,CAAUmB,MAAO,CAAEZ,YAAWD,aAAYpB,OAAMiB,QAAOE,SAAQD,WAC5DzB,KAAK6B,MAAMY,c,GA7COvB,IAAMY,WC8BlBR,I,2MA1DbU,MAAQ,CACNU,MAAO,GACPC,MAAO,GACPC,SAAU,GACVC,OAAQ,GACRC,eAAgB,I,EAIlBC,YAAc,SAAAC,GACZX,QAAQC,IAAI,EAAKT,OADA,IAETW,EAAUQ,EAAEC,OAAZT,MACR,EAAKX,MAAMqB,YAAYV,GACvB,EAAKN,SAAS,CAAES,MAAOH,EAAOW,QAAQ,K,wEAItC,OACE,4BACE,2BACEC,GAAG,eACHC,KAAK,OACLC,KAAK,SACLC,SAAUvD,KAAK+C,YACfP,MAAOxC,KAAKgC,MAAMW,MAClBa,YAAY,cAGbxD,KAAKgC,MAAMW,MAAMc,OAAS,GACzB,kBAAC,IAAD,CACEC,GAAI,CACFC,SAAU,IACV3B,MAAO,CAAEW,MAAO3C,KAAKgC,MAAMW,UAIjC,4BAAQiB,SAAU5D,KAAK6D,OAAQR,KAAK,SAASD,GAAG,iBAAhD,e,GArCgBtB,cC+DTR,I,YA7Db,WAAYO,GAAQ,IAAD,8BACjB,4CAAMA,KACHG,MAAQ,GAFM,E,sEAST,IAAD,EAC8BhC,KAAK6B,MAA5BH,GADP,EACCnB,KADD,EACOmB,QAAQC,EADf,EACeA,WACtB,OACE,6BACGA,EACC,yBAAKmC,UAAU,aACb,4BACE,8BACE,kBAAC,IAAD,CAAMJ,GAAG,KACP,uBAAGN,GAAG,QAAN,gBAGJ,wBAAIA,GAAG,QACL,kBAAC,IAAD,CAAMM,GAAG,KAAT,SAEF,4BACE,kBAAC,IAAD,CAAMA,GAAG,YAAT,YAEF,kBAAC,EAAD,CAAWR,YAAalD,KAAK6B,MAAMqB,cAEnC,wBAAIE,GAAG,cACL,4BAAQW,QAASrC,GAAjB,aAKN,yBAAKoC,UAAU,aACb,4BACE,4BACE,kBAAC,IAAD,CAAMJ,GAAG,UACN,IACD,yCAAuB,MAG3B,6BACA,4BACE,kBAAC,IAAD,CAAMA,GAAG,WACN,IACD,4BAAQI,UAAU,cAAlB,UAA+C,a,GAhD5ChC,cCwJNR,I,2MAxJbU,MAAQ,CACNxB,SAAU,GACVC,SAAU,GACVG,WAAY,GACZD,MAAO,GACPD,MAAO,I,EAITsD,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,MAStB,EAAKlC,MANPxB,EAHwB,EAGxBA,SACAC,EAJwB,EAIxBA,SACAG,EALwB,EAKxBA,WACAD,EANwB,EAMxBA,MACAD,EAPwB,EAOxBA,MAIF,EAAKmB,MAAMJ,OAAO,CAChBjB,WACAC,WACAG,aACAD,QACAD,W,EAKJyD,aAAe,SAAAF,GAAU,IAAD,EACEA,EAAMhB,OAAtBK,EADc,EACdA,KAAMd,EADQ,EACRA,MACd,EAAKN,SAAL,eAAiBoB,EAAOd,K,wEAGhB,IAAD,EAQHxC,KAAKgC,MANPxB,EAFK,EAELA,SACAC,EAHK,EAGLA,SACAG,EAJK,EAILA,WACAD,EALK,EAKLA,MACAD,EANK,EAMLA,MAGF,OACE,6BACE,kBAAC,EAAD,MACA,yBACE0D,MAAO,CACLC,gBAAiB,4BACjBC,QAAS,UAGX,uCACA,0BAAMV,SAAU5D,KAAKgE,iBAAkBZ,GAAG,WACxC,4CACA,2BACEC,KAAK,OACLC,KAAK,WACLd,MAAOhC,EACP+C,SAAUvD,KAAKmE,eAGjB,4CACA,2BACEd,KAAK,WACLC,KAAK,WACLd,MAAO/B,EACP8C,SAAUvD,KAAKmE,eAGjB,yCACA,2BACEd,KAAK,QACLC,KAAK,QACLd,MAAO9B,EACP6C,SAAUvD,KAAKmE,eAUjB,yCACA,4BACE3B,MAAO7B,EACP2C,KAAK,QACLF,GAAG,QACHG,SAAUvD,KAAKmE,aACfC,MAAO,CAAEG,MAAO,MAAOC,OAAQ,MAAOC,OAAQ,aAE7C,4BAAQrB,GAAG,WAAWZ,MAAM,QAA5B,gBAGD,4BAAQY,GAAG,WAAWZ,MAAM,QAA5B,QAGA,4BAAQY,GAAG,WAAWZ,MAAM,UAA5B,UAGA,4BAAQY,GAAG,WAAWZ,MAAM,SAA5B,SAGA,4BAAQY,GAAG,WAAWZ,MAAM,UAA5B,UAGA,4BAAQY,GAAG,WAAWZ,MAAM,YAA5B,YAGA,4BAAQY,GAAG,WAAWZ,MAAM,UAA5B,UAGA,4BAAQY,GAAG,WAAWZ,MAAM,aAA5B,aAGA,4BAAQY,GAAG,WAAWZ,MAAM,UAA5B,WAKF,sDACA,2BACEa,KAAK,OACLC,KAAK,aACLd,MAAO5B,EACP2C,SAAUvD,KAAKmE,eAGjB,6BAEA,2BACEC,MAAO,CACLG,MAAO,KACPE,OAAQ,aACRJ,gBAAiB,aAEnBhB,KAAK,SACLb,MAAM,YAIV,oDACA,kBAAC,IAAD,CAAMkB,GAAI,UAAV,gB,GAlJW5B,cC4DNR,I,2MA5DbU,MAAQ,CAAExB,SAAU,GAAIC,SAAU,I,EAElCuD,iBAAmB,SAAAC,GACjBA,EAAMC,iBADoB,MAEK,EAAKlC,MAA5BxB,EAFkB,EAElBA,SAAUC,EAFQ,EAERA,SAClB,EAAKoB,MAAML,MAAM,CAAEhB,WAAUC,c,EAG/B0D,aAAe,SAAAF,GAAU,IAAD,EACEA,EAAMhB,OAAtBK,EADc,EACdA,KAAMd,EADQ,EACRA,MACd,EAAKN,SAAL,eAAiBoB,EAAOd,K,wEAGhB,IAAD,EACwBxC,KAAKgC,MAA5BxB,EADD,EACCA,SAAUC,EADX,EACWA,SAElB,OACE,6BACE,kBAAC,EAAD,MACA,yBACE2D,MAAO,CACLC,gBAAiB,4BACjBK,cAAe,OACfC,WAAY,SAGd,qCACA,0BAAMf,SAAU5D,KAAKgE,iBAAkBZ,GAAG,UACxC,4CACA,2BACEC,KAAK,OACLC,KAAK,WACLd,MAAOhC,EACP+C,SAAUvD,KAAKmE,eAGjB,4CACA,2BACEd,KAAK,WACLC,KAAK,WACLd,MAAO/B,EACP8C,SAAUvD,KAAKmE,eAGjB,2BACEC,MAAO,CACLG,MAAO,MACPE,OAAQ,WACRJ,gBAAiB,aAEnBhB,KAAK,SACLb,MAAM,iB,GApDAV,c,gBC6FLR,G,aAAAA,E,YAtFb,WAAYO,GAAQ,IAAD,8BACjB,4CAAMA,KAUR+C,QAAU,WACT,IAAIxB,EAAK,EAAKpB,MAAM6C,OAItB3E,IACIe,IADJ,UACWZ,mCADX,kBACkD+C,IAC9CtC,MAAK,SAAAE,GACJqB,QAAQC,IAAI,QAAStB,EAASD,MAC9B,IAAMR,EAAOS,EAASD,KACtB,EAAKmB,SAAS,CAEbvB,MAAOJ,EAAKI,MACZmE,eAAe,UAAD,OAAY,EAAKjD,MAAMlB,MAAvB,UAGjB,EAAKoE,YAGJ5C,OAAM,SAAAC,GACLC,QAAQC,IAAIF,OA/BG,EAoCnB2C,OAAS,WACP1C,QAAQC,IAAI,EAAKN,MAAM8C,gBACrB,IAAIE,EAASC,SAASC,cAAc,OACpCF,EAAOG,aAAa,KAAM,OAE1BH,EAAOG,aAAa,MAApB,iBAAqC,EAAKtD,MAAMlB,MAAhD,SACA,IAAIyE,EAAMH,SAASC,cAAc,SAC7BG,EAAQJ,SAASK,eAAe,SAEpCF,EAAID,aAAa,MAAO,QACxBC,EAAIG,YAAYP,GAChBK,EAAME,YAAYH,IA/CH,EAoDnBI,QAAU,WAER,IAAIC,EAAOR,SAASK,eAAe,YAC/BG,EAAKC,YACTD,EAAKC,WAAWC,YAAYF,IAtD9B,EAAKzD,MAAQ,CACT6C,OAAQ,EAAKhD,MAAMtB,KAAKqF,IACxBd,eAAe,GACfnE,MAAM,IALS,E,sEA4DT,IAAD,EAGP,OAFA0B,QAAQC,IAAItC,KAAK6B,OAGf,yBAAKiC,UAAU,WACb,4BAAKV,GAAG,SAAR,mBAAmB,mBAAnB,wBAA8CpD,KAAK+E,QAAnD,GACE,4BAAQ3B,GAAG,WAAWgB,MAAO,CAACyB,MAAM,QAASC,OAAO,OAAQrB,OAAO,YAAasB,SAAS,QAAShC,QAAS/D,KAAKwF,SAAhH,kBACA,kBAAC,QAAD,CAAOpC,GAAG,QAAQ4C,UAAQ,GAExB,8BAAU5C,GAAG,cAGb,8BAAU6C,SAAS,mB,GAzELnE,eC2IXR,I,2MA7IbU,MAAQ,CACNU,MAAO,GACPE,SAAU,GACVC,OAAQ,GACRqD,WAAY,GACZpD,eAAgB,GAChBH,MAAO,I,EAGTwD,YAAc,WACZjG,IACGe,IADH,UACUZ,mCADV,WAEGS,MAAK,SAAAE,GACJqB,QAAQC,IAAItB,EAASD,MACrB,IAAM2B,EAAQ1B,EAASD,KACnB8B,EAASH,EAAM0D,KAAI,SAAA7F,GAAI,OAAIA,EAAKI,SAIpC,EAAKuB,SAAS,CAAEQ,MAAOA,EAAOE,SAAUF,EAAOG,OAAQA,OAGxDV,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,EAG9BiE,kBAAoB,WAClB,EAAKF,cACL9D,QAAQC,IAAI,EAAKN,MAAMrB,Q,EAGzBuC,YAAc,SAAAP,GACZN,QAAQC,IAAI,EAAKN,MAAMU,OACvBL,QAAQC,IAAI,EAAKN,MAAMY,UAEvB,IAAIA,EAAW,EAAKZ,MAAMU,MAAM4D,QAAO,SAAAC,GACrC,OACEA,EAAG/F,SAASgG,cAAcC,SAAS9D,EAAM6D,gBACzCD,EAAG5F,MAAM6F,cAAcC,SAAS9D,EAAM6D,gBACtCD,EAAG3F,WAAW4F,cAAcC,SAAS9D,EAAM6D,kBAI/CnE,QAAQC,IAAIM,GACZ,EAAKV,SAAS,CAAEU,SAAUA,K,wEAI1B,OACE,6BACE,kBAAC,EAAD,CAAQM,YAAalD,KAAKkD,cAE1B,yBACEkB,MAAO,CACLC,gBAAiB,4BACjBC,QAAS,YACToC,UAAW,SAGb,wBACEtC,MAAO,CACLuC,UAAW,OACXZ,SAAU,OACVtB,OAAQ,wBACRF,MAAO,MACPqC,YAAa,MACblC,cAAe,UAPnB,YAaA,6BACE,yBAAKN,MAAO,CAAEyC,QAAS,SACrB,kBAAC,EAAD,OAGD7G,KAAKgC,MAAMY,SAASwD,KAAI,SAAA7F,GACvB,OACE,yBAAKuG,IAAKvG,EAAKqF,IAAK9B,UAAU,YAC5B,kBAAC,IAAD,CAAMJ,GAAE,WAAMnD,EAAKqF,MACjB,yBACExB,MAAO,CACLG,MAAO,MACPwB,SAAU,OACVtB,OAAQ,aACRsC,aAAc,iBACdJ,UAAW,SACXjC,cAAe,UAGjB,4BAAKnE,EAAKK,WAAV,KACA,yBACEwD,MACE,IAKF,wBACEA,MAAO,CACLG,MAAO,MACPE,OAAQ,aACRsB,SAAU,OACVY,UAAW,WALf,SAQSpG,EAAKI,MACZ,6BATF,cAUcJ,EAAKC,UAGnB,yBAAKsD,UAAU,cACb,yBACEkD,IAAK,WAAazG,EAAKI,MAAQ,OAC/ByD,MAAO,CACLyC,QAAS,QACTtC,MAAO,OACPC,OAAQ,OACRC,OAAQ,YAGZ,yBAAKX,UAAU,WAAf,WACWvD,EAAKK,sBAalC,yD,GAxIWkB,cC2CJR,I,YAxCb,WAAYO,GAAQ,IAAD,8BACjB,4CAAMA,KACHG,MAAQ,CACTrB,MAAM,EAAKkB,MAAMtB,KAAKI,MACtBmE,eAAe,WAAD,OAAY,EAAKjD,MAAMtB,KAAKI,MAA5B,SAJC,E,iFAUlB0B,QAAQC,IAAItC,KAAK6B,S,+BAShB,OAFAQ,QAAQC,IAAItC,KAAK6B,OAGf,yBAAKiC,UAAU,WACb,yBAAKV,GAAG,mBACN,kBAAC,QAAD,CAAOA,GAAG,QAAQ4C,UAAQ,GACxB,8BAAU5C,GAAG,aACZ,yBAAKA,GAAG,MAAM4D,IAAKhH,KAAKgC,MAAM8C,kBAE/B,8BAAUmB,SAAS,YAEnB,2BAAOe,IAAI,gB,GA7BDlF,cCyEHR,G,MAAAA,E,YA1EX,WAAYO,GAAQ,IAAD,8BACf,4CAAMA,KAOdkB,YAAc,SAACC,GAAO,IACVR,EAAUQ,EAAEC,OAAZT,MACR,EAAKN,SAAS,CAAES,MAAOH,KAVJ,EAcvByE,aAAe,SAACjE,GAChBA,EAAEkB,iBAGD,IAAMW,EAAS,EAAKhD,MAAMtB,KAAKqF,IAC/BvD,QAAQC,IAAIuC,GAQb,IAAMqC,EAAW,EAAKlF,MAAMW,MAI5BzC,IACGW,KADH,UACWR,mCADX,4BAC4DwE,GAAU,CAClEqC,UAASrC,WAEV/D,MAAK,SAAAE,GACJqB,QAAQC,IAAI,QAAStB,EAASD,MAC9B,IAAMoG,EAAWnG,EAASD,KAC1B,EAAKc,MAAMuF,cACX,EAAKlF,SAAS,CAAEmF,gBAAiBF,IACjC9E,QAAQC,IAAI,EAAKN,MAAMqF,oBAGxBlF,OAAO,SAAAC,GACNC,QAAQC,IAAIF,OA5CO,EAsDvBkF,cAAgB,SAACtE,GAGf,OAFAA,EAAEkB,iBACF,EAAKhC,SAAS,CAACS,MAAM,MACd,GAtDL,EAAKX,MAAQ,CACTW,MAAO,GACP0E,gBAAiB,IALF,E,iFAkDrBrH,KAAK6B,MAAMuF,gB,+BAcT,OACH,0BAAMxD,SAAU5D,KAAKiH,cACd,2BAAO7D,GAAG,iBAAiBG,SAAUvD,KAAK+C,YAAaM,KAAK,OAAOC,KAAK,UAAUd,MAAOxC,KAAKgC,MAAMW,MAAOa,YAAY,4BAEvH,4BAAQM,UAAU,iBAAlB,WACA,4BAAQA,UAAU,gBAAgBC,QAAS/D,KAAKsH,eAAhD,e,GAtEiBxF,eCoKdR,I,2MAlKbU,MAAQ,CACNuF,SAAU,GACV5E,MAAO,GACP6E,UAAW,GACXH,gBAAiB,GACjBI,WAAW,EACXP,QAAQ,I,EAGVb,kBAAoB,WAGlB,EAAKe,cACL/E,QAAQC,IAAI,EAAKT,OACjBQ,QAAQC,IAAI,EAAKN,MAAMuF,W,EASzBH,YAAc,WACZ,IAAMhE,EAAK,EAAKvB,MAAMtB,KAAKqF,IAE3B1F,IACGe,IADH,UACUZ,mCADV,qBACoD+C,IACjDtC,MAAK,SAAAE,GAEJ,IAAMmG,EAAWnG,EACjB,EAAKkB,SAAS,CAAEmF,gBAAiBF,EAASpG,KAAKwG,WAC/ClF,QAAQC,IAAI6E,GACZ9E,QAAQC,IAAI,EAAKN,MAAMqF,iBACvB,EAAKK,gBAENvF,OAAM,SAAAC,GACLC,QAAQC,IAAIF,O,EAKlBsF,WAAa,WAGP,IAAKL,EAAmB,EAAKrF,MAAMqF,gBAEnCnH,IACCe,IADD,UACQZ,mCADR,cAECS,MAAK,SAAAE,GAGN,IAAI2G,EAAc3G,EAASD,KAEvB6G,EAAmBD,EAAYrB,QAAO,SAAAY,GAAO,OAAIG,EAAgBZ,SAASS,EAAQtB,QAAMQ,KAAI,SAAAc,GAAO,OAAIA,KAE3G,EAAKhF,SAAS,CAACgF,QAASU,EAAkBL,SAAUI,IAEpDtF,QAAQC,IAAIsF,GACZvF,QAAQC,IAAIqF,O,EAMlBE,cAAgB,SAACzE,GAChB,IAAM8D,EAAU,EAAKlF,MAAMkF,QACV,EAAKlF,MAAMqF,gBAC3BhF,QAAQC,IAAIc,GACZ,IAAMoE,EAAYpE,EAClBf,QAAQC,IAAI,QAAS4E,GAQtB,IAAIY,EAAkBZ,EAAQZ,QAAO,SAAAC,GACnC,OAAOA,EAAGX,MAAQxC,KAKnBlD,IAAM6H,OAAN,UAAgB1H,mCAAhB,4BAAiEmH,IAChE1G,MAAK,SAAAE,GAEJqB,QAAQC,IAAI,QAAStB,GACrB,IAAMT,EAAOS,EAASD,KACtBsB,QAAQC,IAAI/B,GAEX,EAAK2B,SAAS,CAACgF,QAASY,OAG5B3F,OAAM,SAAAC,GACHC,QAAQC,IAAIF,O,wEAyBN,IAAD,OAED4F,EADYhI,KAAKgC,MAAhBkF,QACsBe,UAE7B,OACI,6BACF,yBAAK7E,GAAG,oBACN,wCACA,yBAAKU,UAAU,WACb,kBAACoE,EAAD,CAAYd,YAAapH,KAAKoH,cAC9B,6BAEMY,EAAa5B,KAAI,SAAC7F,EAAM4H,GACxB,OACA,yBAAKrB,IAAKvG,EAAKqF,IAAK9B,UAAU,WAI5B,4BAAKvD,EAAK2G,QAAV,KAEA,yBAAK9C,MAAO,CAACgE,UAAU,SAAUC,aAAa,QAAS7D,OAAO,QAASqC,QAAQ,QAASyB,OAAO,WAAYtB,IAAI,YAAY5D,GAAG,aAAaU,UAAU,gBAAgBC,QAAS,SAACf,GAAD,OAAK,EAAK6E,cAActH,EAAKqF,QAE3M,yC,GA/IK9D,cCyfRR,I,2MAzfbU,MAAQ,CACNxB,SAAU,GACVE,MAAO,GACPE,WAAY,GACZD,MAAO,GACP4G,SAAU,GACVgB,KAAM,KACNC,SAAU,GACVC,KAAM,GACNC,QAAS,GACTC,gBAAgB,GAEhBC,UAAW,GACXC,YAAY,G,EAGdC,gBAAkB,SAAA9F,GAChB,EAAKd,SAAS,CACZqG,KAAMvF,EAAEC,OAAO8F,MAAM,M,EAWzB9B,aAAe,SAAAjE,GACbA,EAAEkB,iBACF,IAAId,EAAK,EAAKvB,MAAMtB,KAAKqF,IACzBvD,QAAQC,IAAI,EAAKT,MAAMtB,KAAKqF,KAHV,IAIZ2C,EAAS,EAAKvG,MAAduG,KACFS,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAQX,GAQxBrI,IACGW,KADH,UACWR,mCADX,yBACyD+C,GAAM4F,EAPhD,CACbG,QAAS,CACP,eAAgB,yBAMjBrI,MAAK,SAAAsI,GACJC,MAAM,sCACNhH,QAAQC,IAAI8G,GACd,IAAME,EAAU,EAAKC,WAAWR,MAAM,GACtC,EAAK7G,SAAS,CAAEsG,SAASc,EAAQhG,KAAMoF,QAASU,EAAIrI,KAAK2H,UACzD,EAAKc,gBAGJrH,OAAM,SAAAsH,GACHpH,QAAQC,IAAImH,O,EAqDpBD,WAAa,WAAO,IACZhB,EAAa,EAAKxG,MAAlBwG,SACFkB,EAAUzE,SAASC,cAAc,gBACrCwE,EAAQvE,aAAa,MAAO,UAAG9E,mCAAH,YAA6CmI,GACzEkB,EAAQvE,aAAa,KAAMqD,GAC3BvD,SAASK,eAAe,aAAaC,YAAYmE,GAEjD,IAAIC,EAAc,IAAMD,EAAQtG,GAChCf,QAAQC,IAAIoH,EAAQtG,IAEpB,IAAIwG,EAAW3E,SAASC,cAAc,YACtC0E,EAASzE,aAAa,aAAcwE,GACpCC,EAASzE,aAAa,KAAM,OAC5ByE,EAASzE,aAAa,iBAItByE,EAASzE,aAAa,gBAAiB,qBAEvCyE,EAASzE,aAAa,iBAKtBF,SAASK,eAAe,SAASC,YAAYqE,GAC7CvH,QAAQC,IAAIsH,I,EAIdC,SAAW,SAAC7G,GACVA,EAAEkB,iBACsBe,SAASK,eAAe,qBAChClB,MAAMyC,QAAU,QACZ5B,SAASK,eAAe,gBAChClB,MAAMyC,QAAU,Q,EAG9BiD,iBAAmB,WACM7E,SAASK,eAAe,cAChClB,MAAMyC,QAAU,QACV5B,SAASK,eAAe,UAChClB,MAAMyC,QAAU,Q,EAU/BkD,WAAa,SAAC/G,GACZA,EAAEkB,iBACiBe,SAASK,eAAe,UAChClB,MAAMyC,QAAU,QACN5B,SAASK,eAAe,cAChClB,MAAMyC,QAAU,Q,EAW/B9D,YAAc,SAAAkB,GAAU,IAAD,EACGA,EAAMhB,OAAtBK,EADa,EACbA,KAAMd,EADO,EACPA,MACd,EAAKN,SAAL,eAAiBoB,EAAOd,K,EAG1BwH,YAAc,SAAAhH,GACZA,EAAEkB,iBACoBe,SAASK,eAAe,qBAC9BlB,MAAMyC,QAAU,OACd5B,SAASK,eAAe,gBAC9BlB,MAAMyC,QAAU,QAE5BxE,QAAQC,IAAI,EAAKT,MAAMtB,MAPN,MAQ8B,EAAKyB,MAA5CxB,EARS,EAQTA,SAAUE,EARD,EAQCA,MAAOE,EARR,EAQQA,WAAYD,EARpB,EAQoBA,MAE/ByC,EAAK,EAAKvB,MAAMtB,KAAKqF,IAE3B1F,IACG+J,IADH,UACU5J,mCADV,yBACwD+C,GAAM,CAC1D5C,WACAE,QACAE,aACAD,UAEDG,MAAK,SAAAE,GACJqB,QAAQC,IAAI,QAAStB,EAASD,MAE9B,EAAKmB,SAAS,CAAE1B,WAAUE,QAAOE,aAAYD,aAE9CwB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,O,EAKlB8H,aAAe,WACd,IAAIC,EAAU,EAAKnI,MAAM0G,QAAQ0B,MAGpClK,IAAM6H,OAAN,UAAgB1H,mCAAhB,+BAAoE8J,IACnErJ,MAAK,SAAAE,GAEF,EAAKkB,SAAS,CAACuG,KAAM,KAAMD,SAAS,OACzBvD,SAASK,eAAe,OAC9B+E,SACHhI,QAAQC,IAAI,QAAStB,GAGrB,EAAKkB,SAAS,CAACuG,KAAM,KAAMF,KAAK,UAGnCpG,OAAM,SAAAC,GACHC,QAAQC,IAAIF,O,EA2BfkI,OAAS,SAACtH,GACRA,EAAEkB,iBACC,EAAKlC,MAAM6G,Y,EAKjBxC,kBAAoB,WAClB,IAAIjD,EAAK,EAAKvB,MAAMtB,KAAKqF,IAEzB1F,IACGe,IADH,UACUZ,mCADV,kBACiD+C,IAC9CtC,MAAK,SAAAE,GACJqB,QAAQC,IAAI,QAAStB,EAASD,MAC9B,IAAMR,EAAOS,EAASD,KACtB,EAAKmB,SAAS,CACZ1B,SAAUD,EAAKC,SACfE,MAAOH,EAAKG,MACZE,WAAYL,EAAKK,WACjBD,MAAOJ,EAAKI,MACZ4G,SAAUhH,EAAKgH,cAIlBpF,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAGdlC,IACCe,IADD,UACQZ,mCADR,oBAECS,MAAK,SAAAE,GACJqB,QAAQC,IAAI,QAAStB,EAASD,MAC9B,IAAIwJ,EAAavJ,EAASD,KAAKqF,KAAI,SAAAoE,GAAM,OAAIA,EAAO5E,OAEpD,EAAK1D,SAAS,CACZuG,KAAK,KAAMD,SAAUxH,EAASD,KAAKqJ,MAAM3B,KAAMC,QAAS6B,IAE5D,EAAKf,aAEsB,KAAxB,EAAKxH,MAAMwG,UACZ,EAAKtG,SAAS,CAAC2G,YAAY,IAE3BxG,QAAQC,IAAI,EAAKN,MAAMyG,SAExBtG,OAAM,SAAAC,GACLC,QAAQC,IAAIF,O,wEA0CR,IAAD,OACP,OAEE,yBAECgB,GAAG,mBACA,yBAAKU,UAAU,iBACd,yBAAKA,UAAU,iCACd,wBAAIM,MAAO,CAACuC,UAAU,OAAQ8D,eAAe,cAAezK,KAAKgC,MAAMpB,YACvE,yBAAKwC,GAAG,gBAEN,yCACY,8BAAOpD,KAAKgC,MAAMxB,UAAiB,KAE/C,sCACS,8BAAOR,KAAKgC,MAAMtB,QAE3B,sCACS,8BAAOV,KAAKgC,MAAMrB,QAG3B,yBAAKyD,MAAO,CAACgE,UAAU,MAAOrC,SAAS,SACvC,uBAAG2E,KAAK,GAAG3G,QAAS/D,KAAK6J,UACzB,wBAAIzF,MAAO,CAACyB,MAAM,QAASC,OAAO,kBAAmBvB,MAAM,MAAOD,QAAQ,OAAQqC,UAAU,WAA5F,mBAIF,0BAAMvD,GAAG,oBAAoBQ,SAAU5D,KAAKgK,aAC1C,4CACA,2BACE3G,KAAK,OACLb,MAAOxC,KAAKgC,MAAMxB,SAClB8C,KAAK,WACLC,SAAUvD,KAAK+C,cAEjB,yCACA,2BACEM,KAAK,QACLb,MAAOxC,KAAKgC,MAAMtB,MAClB4C,KAAK,QACLC,SAAUvD,KAAK+C,cAEjB,8CACA,2BACEM,KAAK,OACLb,MAAOxC,KAAKgC,MAAMpB,WAClB0C,KAAK,aACLC,SAAUvD,KAAK+C,cASjB,4BAAQqB,MAAO,CAACyB,MAAM,UAAtB,UAqDF,4BAAQzC,GAAG,aAAaW,QAAS/D,KAAK+J,YAAtC,0BACA,yBAAKjG,UAAU,kBAAkBV,GAAG,UAEhC,wBAAIU,UAAU,MAAMM,MAAO,CAAEyC,QAAQ,OAAQ8D,cAAc,MAAOrG,QAAQ,MAAO8D,UAAU,UACvF,4BACI,mEACA,uBAAGhE,MAAO,CAAC2B,SAAS,SAApB,iBAGG/F,KAAKgC,MAAM6G,WACd,0BAAMjF,SAAU5D,KAAKiH,aAAc2D,QAAQ,uBAC3C,2BACIrH,SAAUvD,KAAK8I,gBACfzF,KAAK,OACLC,KAAK,OACLuH,IAAK,SAAAA,GAAG,OAAK,EAAKtB,WAAasB,GAC/BzG,MAAO,CAACwC,YAAY,MAAOjC,WAAW,QAE1C,4BAAQZ,QAAS/D,KAAK8J,iBAAkBzG,KAAK,SAASb,MAAM,SAAS4B,MAAO,CAACyB,MAAM,UAAnF,QAGA,uBAAGzB,MAAO,CAAC0B,OAAO,kBAAmBD,MAAM,QAASxB,gBAAgB,YAAaE,MAAM,MAAOoC,UAAU,SAAUrC,QAAQ,QAASG,OAAO,WAAY6D,OAAO,WAAYvE,QAAS/D,KAAKkK,cAAvL,0BAIA,0BAAMtG,SAAU5D,KAAKsK,OAAQM,QAAQ,uBACrC,2BACIrH,SAAUvD,KAAK8I,gBACfzF,KAAK,OACLC,KAAK,OACLuH,IAAK,SAAAA,GAAG,OAAK,EAAKtB,WAAasB,GAC/BzG,MAAO,CAACwC,YAAY,SAExB,4BAAQ7C,QAAS/D,KAAK8J,iBAAkBzG,KAAK,SAASb,MAAM,SAAS4B,MAAO,CAACyB,MAAM,UAAnF,QAGA,uBAAGzB,MAAO,CAAC0B,OAAO,kBAAmBD,MAAM,QAASxB,gBAAgB,YAAaE,MAAM,MAAOoC,UAAU,SAAUrC,QAAQ,QAASG,OAAO,WAAY6D,OAAO,WAAYvE,QAAS/D,KAAKkK,cAAvL,8BAWhB,kBAAC,EAAD,CAAU3C,SAAUvH,KAAKgC,MAAMuF,gB,GAjfjBzF,cCsFPR,I,2MApFbU,MAAQ,CACNU,MAAO,GACPlC,SAAU,GACVI,WAAY,GACZD,MAAO,GACPmK,iBAAiB,GACjBhG,eAAgB,I,EA0BhBqB,YAAc,WACZjG,IACGe,IADH,UACUZ,mCADV,WAEGS,MAAK,SAAAE,GACJqB,QAAQC,IAAItB,EAASD,KAAK,GAAGP,UAC7B,IAAMkC,EAAQ1B,EAASD,KACnB8B,EAASH,EAAM0D,KAAI,SAAA7F,GAAI,OAAIA,EAAKI,SACpC0B,QAAQC,IAAIO,GACZ,EAAKX,SAAS,CAAEQ,MAAOA,EAAOE,SAAUF,EAAOG,OAAOA,OAGvDV,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,EAI9Bc,YAAc,SAAAP,GACZN,QAAQC,IAAI,EAAKN,MAAMU,OACvBL,QAAQC,IAAI,EAAKN,MAAMY,UAGvB,IAAIA,EAAW,EAAKZ,MAAMU,MAAM4D,QAAO,SAAAC,GACnC,OAAOA,EAAG/F,SAASgG,cAAcC,SAAS9D,EAAM6D,gBAChDD,EAAG5F,MAAM6F,cAAcC,SAAS9D,EAAM6D,gBACtCD,EAAG3F,WAAW4F,cAAcC,SAAS9D,EAAM6D,kBAI/CnE,QAAQC,IAAIM,GACZ,EAAKV,SAAS,CAAEU,SAAUA,K,mFAnDT,IAAD,OACZQ,EAAKpD,KAAK6B,MAAMtB,KAAKqF,IAC3B1F,IACGe,IADH,UACUZ,mCADV,kBACiD+C,IAC9CtC,MAAK,SAAAE,GACJqB,QAAQC,IAAI,QAAStB,EAASD,KAAKP,UACnC,IAAMD,EAAOS,EAASD,KACtB,EAAKmB,SAAS,CACZ3B,KAAMA,EACNC,SAAUD,EAAKC,SACfI,WAAYL,EAAKK,WACjBD,MAAOJ,EAAKI,MACZmK,iBAAkBvK,EAAK2F,aAEzB,EAAKC,iBAGNhE,OAAM,SAAAC,GACLC,QAAQC,IAAIF,Q,+BAqChB,OACE,6BACE,kBAAC,EAAD,MACA,yBAAKgC,MAAO,CAACC,gBAAgB,8BAC7B,yBAAKP,UAAU,cACb,wBAAIM,MAAO,CAACgE,UAAU,UAAtB,mBACmBpI,KAAKgC,MAAMpB,WAD9B,KAC4CZ,KAAKgC,MAAMxB,WAGzD,kBAAC,EAAD,CAAS0F,WAAclG,KAAKkG,aAC5B,kBAAC,EAAD,OAGA,gCAAS,qD,GA9EKpE,cCyEHR,I,YAzEX,WAAYO,GAAQ,IAAD,8BACf,4CAAMA,KAOdkB,YAAc,SAACC,GAAO,IACVR,EAAUQ,EAAEC,OAAZT,MACR,EAAKN,SAAS,CAAES,MAAOH,KAVJ,EAcvByE,aAAe,SAACjE,GAChBA,EAAEkB,iBAGD,IAAMW,EAAS,EAAKhD,MAAMkJ,YAAYC,MAAM,GAC5C3I,QAAQC,IAAI,EAAKT,MAAMkJ,aAQxB,IAAM7D,EAAW,EAAKlF,MAAMW,MAG5BzC,IACGW,KADH,UACWR,mCADX,4BAC4DwE,GAAU,CAClEqC,UAASrC,WAEV/D,MAAK,SAAAE,GACJqB,QAAQC,IAAI,QAAStB,EAASD,MAC9B,IAAMoG,EAAWnG,EAASD,KAC1B,EAAKc,MAAMuF,cACX,EAAKlF,SAAS,CAAEmF,gBAAiBF,IACjC9E,QAAQC,IAAI,EAAKN,MAAMqF,oBAGxBlF,OAAO,SAAAC,GACNC,QAAQC,IAAIF,OA3CO,EAoDvBkF,cAAgB,SAACtE,GAGf,OAFAA,EAAEkB,iBACF,EAAKhC,SAAS,CAACS,MAAM,MACd,GApDL,EAAKX,MAAQ,CACTW,MAAO,GACP0E,gBAAiB,IALF,E,iFAiDrBrH,KAAK6B,MAAMuF,gB,+BAcT,OACH,0BAAMxD,SAAU5D,KAAKiH,cACd,2BAAO7D,GAAG,iBAAiBG,SAAUvD,KAAK+C,YAAaM,KAAK,OAAOC,KAAK,UAAUd,MAAOxC,KAAKgC,MAAMW,MAAOa,YAAY,4BAEvH,4BAAQM,UAAU,iBAAlB,WACA,4BAAQA,UAAU,gBAAgBC,QAAS/D,KAAKsH,eAAhD,e,GArEkBxF,cCyIfR,I,2MAvIbU,MAAQ,CACJzB,KAAM,GACRgH,SAAU,GACV5E,MAAO,GACP6E,UAAW,GACXH,gBAAiB,GACjB4D,aAAc,GACdtD,YAAa,GACbuD,QAAS,I,EAGX7E,kBAAoB,WAGlB,IAAMjD,EAAK,EAAKvB,MAAMkJ,YAEtB1I,QAAQC,IAAI,EAAKT,OAEjB3B,IACGe,IADH,UACUZ,mCADV,iBACgD+C,IAC7CtC,MAAK,SAAAE,GAEJ,EAAKkB,SAAS,CAAE3B,KAAMS,IACtBqB,QAAQC,IAAItB,GACb,EAAKkB,SAAS,CAAC+I,aAAcjK,EAASD,UAGpCoB,OAAM,SAAAC,GACHC,QAAQC,IAAIF,MAKpB,EAAKgF,cAEL/E,QAAQC,IAAI,EAAKT,OACjBQ,QAAQC,IAAI,EAAKT,MAAMkJ,c,EAMzB3D,YAAc,WACZ,IAAMhE,EAAK,EAAKvB,MAAMkJ,YACL,EAAK/I,MAAdzB,KACR8B,QAAQC,IAAI,EAAKT,OAEjB3B,IACCe,IADD,UACQZ,mCADR,oBACiD+C,IAChDtC,MAAK,SAAAE,GAEJ,EAAKkB,SAAS,CAAE+I,aAAcjK,EAASD,KAAKwG,WAC5ClF,QAAQC,IAAItB,GAEZ,EAAK0G,gBAGJvF,OAAM,SAAAC,GACHC,QAAQC,IAAIF,O,EAKpBsF,WAAa,WAGX,IAAKuD,EAAgB,EAAKjJ,MAAMiJ,aAEhC/K,IACCe,IADD,UACQZ,mCADR,cAECS,MAAK,SAAAE,GAEFqB,QAAQC,IAAItB,GAEhB,IAEI4G,EAFc5G,EAASD,KAEQuF,QAAO,SAAAY,GAAO,OAAI+D,EAAaxE,SAASS,EAAQtB,QAAMQ,KAAI,SAAAc,GAAO,OAAIA,KAExG,EAAKhF,SAAS,CAACgJ,QAAStD,Q,wEA0BxB,IAAMI,EAAehI,KAAKgC,MAAMkJ,QAAQjD,UAExC,OACI,6BACF,yBAAK7E,GAAG,oBACN,wCACA,yBAAKU,UAAU,WACb,kBAACqH,EAAD,CAAaJ,YAAa/K,KAAK6B,MAAMkJ,YAAa3D,YAAapH,KAAKoH,cACpE,6BAGQY,EAAa5B,KAAI,SAACc,EAASiB,GAC3B,OACE,yBAAKrB,IAAKI,EAAQtB,IAAK9B,UAAU,WAC/B,4BAAKoD,EAAQA,SACb,yC,GAxHKpF,cCkLZR,I,2MAhLbU,MAAQ,CACNU,MAAM,GACNnC,KAAM,GACNiI,SAAU,GACVE,QAAS,GACTH,KAAM,KACNE,KAAM,GACN9H,MAAO,GACPiC,SAAS,GACThC,WAAW,GACXJ,SAAS,GAET4K,SAAS,EAAKvJ,MAAMwJ,SAAS1H,U,EAyB/B6F,WAAa,WAAO,IACZhB,EAAa,EAAKxG,MAAlBwG,SACFkB,EAAUzE,SAASC,cAAc,gBACrCwE,EAAQvE,aAAa,MAAO,UAAG9E,mCAAH,YAA6CmI,GACzEkB,EAAQvE,aAAa,KAAMqD,GAC3BvD,SAASK,eAAe,aAAaC,YAAYmE,GAEjD,IAAIC,EAAc,IAAMD,EAAQtG,GAChCf,QAAQC,IAAIoH,EAAQtG,IAEpB,IAAIwG,EAAW3E,SAASC,cAAc,YACtC0E,EAASzE,aAAa,aAAcwE,GACpCC,EAASzE,aAAa,KAAM,OAC5ByE,EAASzE,aAAa,iBAItByE,EAASzE,aAAa,gBAAiB,qBAEvCyE,EAASzE,aAAa,iBAKtBF,SAASK,eAAe,SAASC,YAAYqE,GAC7CvH,QAAQC,IAAIsH,I,EAIdvD,kBAAoB,WAAO,IACjBjD,EAAO,EAAKvB,MAAMyJ,MAAMC,OAAxBnI,GAIXlD,IACIe,IADJ,UACWZ,mCADX,kBACkD+C,IAC9CtC,MAAK,SAAAE,GACJqB,QAAQC,IAAI,QAAStB,EAASD,MAC9B,IAAMR,EAAOS,EAASD,KACtB,EAAKmB,SAAS,CACb3B,KAAMA,EACNI,MAAOJ,EAAKI,MACZC,WAAYL,EAAKK,WACjBJ,SAAUD,EAAKC,SACfkI,QAASnI,EAAKmI,UAEf,EAAKvC,cACL9D,QAAQC,IAAI,EAAKN,MAAMrB,UAGxBwB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAGd,EAAK+D,e,EAOLqF,QAAU,WACRnJ,QAAQC,IAAI,EAAKN,MAAMyJ,UACvB,IAAIA,EAAW,EAAKzJ,MAAM0G,QAAQ0B,MAEpClK,IACCe,IADD,UACQZ,mCADR,2BACwDoL,IACvD3K,MAAK,SAAAE,GACJqB,QAAQC,IAAI,QAAStB,EAASD,MAG9B,EAAKmB,SAAS,CACbsG,SAAUxH,EAASD,KAAK0H,UAM1BtG,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAEd,EAAKoH,c,EAIPrD,YAAc,WACZjG,IACGe,IADH,UACUZ,mCADV,WAEGS,MAAK,SAAAE,GACJqB,QAAQC,IAAItB,EAASD,MACrB,IAAM2B,EAAQ1B,EAASD,KAKvB,EAAKmB,SAAS,CAAEQ,MAAOA,EAAOE,SAAUF,OAGzCP,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,O,EAM9Bc,YAAc,SAAAP,GACZN,QAAQC,IAAI,EAAKN,MAAMU,OACvBL,QAAQC,IAAI,EAAKN,MAAMY,UAGvB,IAAIA,EAAW,EAAKZ,MAAMU,MAAM4D,QAAO,SAAAC,GACnC,OAAOA,EAAG/F,SAASgG,cAAcC,SAAS9D,EAAM6D,gBAChDD,EAAG5F,MAAM6F,cAAcC,SAAS9D,EAAM6D,gBACtCD,EAAG3F,WAAW4F,cAAcC,SAAS9D,EAAM6D,kBAI/CnE,QAAQC,IAAIM,GACZ,EAAKV,SAAS,CAAEU,SAAUA,K,wEAO1B,OACE,yBAAKQ,GAAG,QAAQW,QAAS/D,KAAKwL,SAC5B,kBAAC,EAAD,CAAQtI,YAAalD,KAAKkD,cAC1B,yBAAKkB,MAAO,CAACC,gBAAgB,8BAC7B,wBAAID,MAAO,CAACE,QAAQ,kBAApB,cAAkDtE,KAAKgC,MAAMzB,KAAKC,SAAlE,aACA,kBAAC,EAAD,CAAaG,MAAOX,KAAKgC,MAAMrB,QAEhC,kBAAC,EAAD,CAAcoK,YAAe/K,KAAKgC,MAAMoJ,YAEvC,gCAAS,qD,GA3KMtJ,c,QCYRR,SAjBf,YAA8E,IAA9CQ,EAA6C,EAAxD4J,UAAsB/J,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,UAAc+J,EAAQ,sDAE3E,OAAI/J,EACK,uCAIL,kBAAC,IAAD,iBACM+J,EADN,CAEEC,OAAQ,SAAA/J,GAAK,OACVF,EAAwC,kBAAC,IAAD,CAAU+B,GAAG,MAAxC,kBAAC5B,EAAcD,UCUxBP,SApBf,YAKI,IAJSQ,EAIV,EAJD4J,UACA/J,EAGC,EAHDA,WACAC,EAEC,EAFDA,UACG+J,EACF,sDACD,OAAI/J,EACK,uCAGL,kBAAC,IAAD,iBACM+J,EADN,CAEEC,OAAQ,SAAA/J,GAAK,OACXF,EAAa,kBAACG,EAAcD,GAAY,kBAAC,IAAD,CAAU6B,GAAG,kBCiBhDmI,E,iLAhBX,OACE,yBAAK/H,UAAU,OAEb,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAWgI,OAAK,EAACrD,KAAK,UAAUiD,UAAWK,IAC3C,kBAAC,EAAD,CAAWD,OAAK,EAACrD,KAAK,SAASiD,UAAWM,IAC1C,kBAAC,EAAD,CAAcF,OAAK,EAACrD,KAAK,IAAIiD,UAAWO,IACxC,kBAAC,EAAD,CAAcH,OAAK,EAACrD,KAAK,WAAWiD,UAAWQ,IAC/C,kBAAC,EAAD,CAAcJ,OAAK,EAACrD,KAAK,OAAOiD,UAAWS,U,GAZnCrK,aCRlBsK,IAASR,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,KACE,kBAAC,EAAD,QAGJ3G,SAASK,eAAe,U","file":"static/js/main.8ac4c9df.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(user) {\n    const { username, password, email, theme, space_name} = user;\n    return this.auth\n      .post('/auth/signup', { username, password, email, theme, space_name})\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { username, password } = user;\n    return this.auth\n      .post('/auth/login', { username, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {}).then(response => response.data);\n  }\n\n  me() {\n    return this.auth.get('/auth/me').then(response => response.data);\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","//\tlib/AuthProvider.js\n\nimport React from 'react';\nimport authService from './auth-service'; // IMPORT functions for axios requests to API\nconst { Consumer, Provider } = React.createContext();\n\n// HOC to create Consumer\nconst withAuth = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {/* <Consumer> component provides callback which receives Providers \"value\" object */}\n          {/* (value) => { <WrappedComponent />}  */}\n          {({ login, signup, user, logout, isLoggedin, isLoading }) => {\n            return (\n              <WrappedComponent\n                login={login}\n                signup={signup}\n                user={user}\n                logout={logout}\n                isLoggedin={isLoggedin}\n                isLoading={isLoading}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n// Provider\nclass AuthProvider extends React.Component {\n  state = { isLoggedin: false, user: null, isLoading: true };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then(user =>\n        this.setState({ isLoggedin: true, user: user, isLoading: false }),\n      )\n      .catch(err =>\n        this.setState({ isLoggedin: false, user: null, isLoading: false }),\n      );\n  }\n\n  signup = user => {\n    const {  username, password, email, theme, space_name} = user;\n\n    authService\n      .signup({  username, password, email, theme, space_name})\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  login = user => {\n    const { username, password } = user;\n\n    authService\n      .login({ username, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedin: false, user: null }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { isLoading, isLoggedin, user } = this.state;\n    const { login, logout, signup } = this;\n\n    return (\n      <Provider value={{ isLoading, isLoggedin, user, login, logout, signup }}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport { Consumer, withAuth };\n\nexport default AuthProvider;\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\n\nclass SearchBar extends Component {\n  state = {\n    users: [],\n    input: \"\",\n    selected: [],\n    themes: [],\n    selectedThemes: []\n    // goHome: false,\n  };\n\n  handleInput = e => {\n    console.log(this.props);\n    const { value } = e.target;\n    this.props.filterUsers(value);\n    this.setState({ input: value, goHome: true });\n  };\n\n  render() {\n    return (\n      <li>\n        <input\n          id=\"search-input\"\n          type=\"text\"\n          name=\"search\"\n          onChange={this.handleInput}\n          value={this.state.input}\n          placeholder=\"Search...\"\n        />\n\n        {this.state.input.length > 1 && (\n          <Redirect\n            to={{\n              pathname: \"/\",\n              state: { input: this.state.input }\n            }}\n          />\n        )}\n        <button onSubmit={this.submit} type=\"submit\" id=\"search-button\">\n          Search\n        </button>\n      </li>\n\n      // <li id=\"search-bar\">\n      //   <input\n      //   id=\"search-input\"\n      //     type=\"text\"\n      //     name=\"search\"\n      //     onChange={this.handleInput}\n      //     value={this.state.input}\n      //     placeholder=\"Search...\"\n      //   />\n\n      //   <button id=\"search-button\">Search</button>\n\n      // </li>\n    );\n  }\n}\n\nexport default withAuth(SearchBar);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport SearchBar from \"./SearchBar\";\nimport axios from \"axios\";\n\nclass Navbar extends Component {\n  constructor(props) {\n    super(props)\n  this.state = {\n   \n  };\n  }\n  \n\n\n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div>\n        {isLoggedin ? (\n          <nav className=\"nav-style\">\n            <ul>\n              <span>\n                <Link to=\"/\">\n                  <p id=\"logo\">Exhibit Me</p>\n                </Link>\n              </span>\n              <li id=\"home\">\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li>\n                <Link to=\"/profile\">Profile</Link>\n              </li>\n              <SearchBar filterUsers={this.props.filterUsers}  />\n\n              <li id=\"logout-btn\">\n                <button onClick={logout}>Logout</button>\n              </li>\n            </ul>\n          </nav>\n        ) : (\n          <nav className=\"nav-style\">\n            <ul>\n              <li>\n                <Link to=\"/login\">\n                  {\" \"}\n                  <button>Login</button>{\" \"}\n                </Link>\n              </li>\n              <br />\n              <li>\n                <Link to=\"/signup\">\n                  {\" \"}\n                  <button className=\"logout-btn\">Signup</button>{\" \"}\n                </Link>\n              </li>\n\n     \n            </ul>\n           \n          </nav>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\n\nclass Signup extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    space_name: \"\",\n    theme: \"\",\n    email: \"\",\n    \n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const {\n      username,\n      password,\n      space_name,\n      theme,\n      email,\n      \n    } = this.state;\n    //  console.log('Signup -> form submit', { username, password });\n    this.props.signup({\n      username,\n      password,\n      space_name,\n      theme,\n      email,\n      \n    }); // props.signup is Provided by withAuth() and Context API\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const {\n      username,\n      password,\n      space_name,\n      theme,\n      email,\n      \n    } = this.state;\n    return (\n      <div>\n        <Navbar />\n        <div\n          style={{\n            backgroundColor: \"rgba(255, 255, 255, 0.04)\",\n            padding: \"7vh 0\"\n          }}\n        >\n          <h1>Sign Up</h1>\n          <form onSubmit={this.handleFormSubmit} id=\"sign-up\">\n            <label>Username:</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={username}\n              onChange={this.handleChange}\n            />\n\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n            />\n\n            <label>Email:</label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={this.handleChange}\n            />\n            {/* <label>Your Space's Theme:</label>\n            <input\n              type=\"text\"\n              name=\"theme\"\n              value={theme}\n              onChange={this.handleChange}\n            /> */}\n\n            <label>Theme:</label>\n            <select\n              value={theme}\n              name=\"theme\"\n              id=\"theme\"\n              onChange={this.handleChange}\n              style={{ width: \"12%\", height: \"95%\", margin: \"1vh auto\" }}\n              >\n               <option id=\"selected\" value=\"pick\">\n                Pick a theme\n              </option>\n              <option id=\"selected\" value=\"bali\">\n                Bali\n              </option>\n              <option id=\"selected\" value=\"nature\">\n                Nature\n              </option>\n              <option id=\"selected\" value=\"grass\">\n                Grass\n              </option>\n              <option id=\"selected\" value=\"trippy\">\n                Trippy\n              </option>\n              <option id=\"selected\" value=\"festival\">\n                Festival\n              </option>\n              <option id=\"selected\" value=\"winter\">\n                Winter\n              </option>\n              <option id=\"selected\" value=\"mountains\">\n               Mountains\n              </option>\n              <option id=\"selected\" value=\"canyon\">\n                Canyon\n              </option>\n            </select>\n\n            <label>Name Your 3D Space:</label>\n            <input\n              type=\"text\"\n              name=\"space_name\"\n              value={space_name}\n              onChange={this.handleChange}\n            />\n\n            <br />\n\n            <input\n              style={{\n                width: \"8%\",\n                margin: \"1.5vh auto\",\n                backgroundColor: \"#2ab193e5\"\n              }}\n              type=\"submit\"\n              value=\"Signup\"\n            />\n          </form>\n\n          <p>Already have account?</p>\n          <Link to={\"/login\"}> Login</Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\n\nclass Login extends Component {\n  state = { username: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    this.props.login({ username, password });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div>\n        <Navbar />\n        <div\n          style={{\n            backgroundColor: \"rgba(255, 255, 255, 0.04)\",\n            paddingBottom: \"50vh\",\n            paddingTop: \"20vh\"\n          }}\n        >\n          <h1>Login</h1>\n          <form onSubmit={this.handleFormSubmit} id=\"log-in\">\n            <label>Username:</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={username}\n              onChange={this.handleChange}\n            />\n\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n            />\n\n            <input\n              style={{\n                width: \"50%\",\n                margin: \"4vh auto\",\n                backgroundColor: \"#2ab193e5\"\n              }}\n              type=\"submit\"\n              value=\"Login\"\n            />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport \"aframe\";\nimport { Entity, Scene } from \"aframe-react\";\nimport \"aframe-extras\";\nimport axios from \"axios\";\nimport { findByLabelText } from \"@testing-library/react\";\n\n\nclass UserVRScene extends Component {\n  constructor(props) {\n    super(props)\n  this.state = {\n      userId: this.props.user._id,\n      backgroundPath:\"\",\n      theme:\"\"\n      \n    };\n  }\n\n\n  getUser = () => {\n   let id = this.state.userId\n    //   let objectId = this.props.user.data.objects[0]\n   \n\n axios\n    .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n    .then(response => {\n      console.log(\"Hello\", response.data);\n      const user = response.data\n      this.setState({\n      \n       theme: user.theme,\n       backgroundPath: `images/${this.props.theme}.jpg`\n       \n      })\n    this.upload()\n    \n    })\n    .catch(err => {\n      console.log(err);\n    });\n  \n  }\n\n  upload = () => {\n    console.log(this.state.backgroundPath);\n      let newImg = document.createElement('img')\n      newImg.setAttribute('id', 'sky');\n      \n      newImg.setAttribute('src', `images/${this.props.theme}.jpg`)\n      let sky = document.createElement('a-sky')\n      let scene = document.getElementById('scene')\n      \n      sky.setAttribute('src', '#sky')\n      sky.appendChild(newImg)\n      scene.appendChild(sky)\n      \n  }\n\n\n  startVR = () => {\n\n    let node = document.getElementById(\"startbtn\");\n    if (node.parentNode) {\n    node.parentNode.removeChild(node);\n}\n  }\n\n  render() {\n    console.log(this.props);\n    \n    return (\n      <div className=\"vrscene\" >\n        <div id=\"start\" id=\"myEmbeddedScene\" onClick={this.upload}>\n          <button id=\"startbtn\" style={{color:\"white\", border:\"none\", margin:\"12em auto\", fontSize:\"20px\"}} onClick={this.startVR}>CLICK TO START</button>\n          <Scene id=\"scene\" embedded>\n          \n            <a-assets id=\"assets-id\">\n             {/* <img id=\"sky\" ></img> */}\n            </a-assets>\n            <a-camera position=\"40 70 0\"></a-camera>\n\n            {/* <a-sky src=\"#sky\"></a-sky> */}\n\n            {/* <a-videosphere src=\"africa.mp4\"></a-videosphere> */}\n          </Scene>\n         \n        </div>\n       \n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserVRScene);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\nimport Profile from \"../components/UserVRScene\";\n\nclass Home extends Component {\n  state = {\n    users: [],\n    selected: [],\n    themes: [],\n    background: \"\",\n    selectedThemes: [],\n    input: \"\"\n  };\n\n  getAllUsers = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users`)\n      .then(response => {\n        console.log(response.data);\n        const users = response.data;\n        let themes = users.map(user => user.theme);\n        // let bkg = themes.map(theme => theme )\n        // let backgroundImg = `/${users.theme}.jpg`\n        // console.log(bkg)\n        this.setState({ users: users, selected: users, themes: themes });\n        // this.themeAndUserEqual()\n      })\n      .catch(err => console.log(err));\n  };\n\n  componentDidMount = () => {\n    this.getAllUsers();\n    console.log(this.state.theme);\n  };\n\n  filterUsers = input => {\n    console.log(this.state.users);\n    console.log(this.state.selected);\n\n    let selected = this.state.users.filter(el => {\n      return (\n        el.username.toLowerCase().includes(input.toLowerCase()) ||\n        el.theme.toLowerCase().includes(input.toLowerCase()) ||\n        el.space_name.toLowerCase().includes(input.toLowerCase())\n      );\n    });\n\n    console.log(selected);\n    this.setState({ selected: selected });\n  };\n\n  render() {\n    return (\n      <div>\n        <Navbar filterUsers={this.filterUsers} />\n\n        <div\n          style={{\n            backgroundColor: \"rgba(255, 255, 255, 0.04)\",\n            padding: \"1.2em 2em\",\n            minHeight: \"90vh\"\n          }}\n        >\n          <h1\n            style={{\n              textAlign: \"left\",\n              fontSize: \"40px\",\n              margin: \"0.9em auto 0.5em auto\",\n              width: \"77%\",\n              paddingLeft: \"1em\",\n              paddingBottom: \"0.3em\"\n            }}\n          >\n            Discover\n          </h1>\n\n          <div>\n            <div style={{ display: \"none\" }}>\n              <Profile />\n            </div>\n\n            {this.state.selected.map(user => {\n              return (\n                <div key={user._id} className=\"one-user\">\n                  <Link to={`/${user._id}`}>\n                    <div\n                      style={{\n                        width: \"85%\",\n                        fontSize: \"22px\",\n                        margin: \"0.5em auto\",\n                        borderBottom: \"1px solid grey\",\n                        textAlign: \"center\",\n                        paddingBottom: \"3.5em\"\n                      }}\n                    >\n                      <h3>{user.space_name} </h3>\n                      <div\n                        style={\n                          {\n                            // display:\"flex\", flexDirection:\"row\", width: \"30%\"\n                          }\n                        }\n                      >\n                        <h3\n                          style={{\n                            width: \"18%\",\n                            margin: \"0.5em auto\",\n                            fontSize: \"15px\",\n                            textAlign: \"center\"\n                          }}\n                        >\n                          Theme:{user.theme}\n                          <br />\n                          Created By {user.username}\n                        </h3>\n\n                        <div className=\"containers\">\n                          <img\n                            src={\"/images/\" + user.theme + \".jpg\"}\n                            style={{\n                              display: \"block\",\n                              width: \"100%\",\n                              height: \"auto\",\n                              margin: \"0 auto\"\n                            }}\n                          />\n                          <div className=\"overlay\">\n                            Explore {user.space_name}\n                          </div>\n                        </div>\n                        {/* <br/>\n                      <h3 style={{ width:\"28%\", margin:\"0.5em 2em\", fontSize:\"15px\", display:\"flex\"}}>Creator:{user.username}</h3> */}\n                      </div>\n                    </div>\n                  </Link>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n        <footer>Rose Beatty 2019</footer>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport \"aframe\";\nimport { Entity, Scene } from \"aframe-react\";\nimport \"aframe-extras\";\nimport axios from \"axios\";\n\n\nclass VRScene extends Component {\n  constructor(props) {\n    super(props)\n  this.state = {\n      theme:this.props.user.theme,\n      backgroundPath:`/images/${this.props.user.theme}.jpg`,\n      \n    };\n  }\n\n  componentDidMount() {\n   console.log(this.props);\n  \n   \n  }\n\n\n  render() {\n    console.log(this.props);\n    \n    return (\n      <div className=\"vrscene\" >\n        <div id=\"myEmbeddedScene\">\n          <Scene id=\"scene\" embedded>\n            <a-assets id=\"assets-id\">\n             <img id=\"sky\" src={this.state.backgroundPath}></img>\n            </a-assets>\n            <a-camera position=\"40 10 0\"></a-camera>\n\n            <a-sky src=\"#sky\"></a-sky>\n\n            {/* <a-videosphere src=\"africa.mp4\"></a-videosphere> */}\n          </Scene>\n         \n        </div>\n       \n      </div>\n    );\n  }\n}\n\nexport default withAuth(VRScene);\n","\n    import React, { Component } from \"react\";\n    import { Link } from \"react-router-dom\";\n    import { withAuth } from \"../lib/AuthProvider\";\n    import Comment from \"../lib/comments-service\";\n    import axios from \"axios\";\n    \n    class addComment extends Component {\n        constructor(props) {\n            super(props)\n        \n        this.state = {\n            input: \"\",\n            initialComments: []\n        }\n    }\n    handleInput = (e) => {\n        const { value } = e.target;\n        this.setState({ input: value });\n      };\n\n\n    handleSubmit = (e) => {\n    e.preventDefault();\n\n      // console.log(this.props.getPathname.slice(1));\n     const userId = this.props.user._id\n     console.log(userId);\n    // if (this.props.getPathname === \"/profile\") {\n    //   userId = `/${this.props.user._id}`;\n    // }\n    // else {\n    //   userId = this.props.getPathname\n    // }\n\n    const comment  = this.state.input;\n\n    \n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/comments/create/${userId}`, {\n        comment, userId\n      })\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        const userData = response.data;\n        this.props.getComments()\n        this.setState({ initialComments: userData });\n        console.log(this.state.initialComments)\n       \n      })\n      .catch (err => {\n        console.log(err);\n      });\n\n    }\n\n    componentDidMount() {\n      this.props.getComments()\n    }\n\n\n    cancelComment = (e) => {\n      e.preventDefault()\n      this.setState({input:\"\"})\n      return false\n    }\n\n    render() {\n\n        // const {comments} = this.state;\n    \n        return (\n     <form onSubmit={this.handleSubmit}>\n            <input id=\"create-comment\" onChange={this.handleInput} type=\"text\" name=\"comment\" value={this.state.input} placeholder=\"Add a public comment...\"></input>\n         \n            <button className=\"comments-btns\">COMMENT</button>\n            <button className=\"comments-btns\" onClick={this.cancelComment}>CANCEL</button>\n          </form>\n        )\n    }\n    }\n    export default withAuth(addComment)","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Comment from \"../lib/comments-service\";\nimport axios from \"axios\";\nimport AddComment from \"./AddComment\";\n\n\nclass Comments extends Component {\n  state = {\n    comments: [],\n    input: \"\",\n    commentId: [],\n    initialComments: [],\n    canDelete: true,\n    comment:[]\n  };\n\n  componentDidMount = () => {\n    // console.log(this.props);\n\n    this.getComments();\n    console.log(this.props);\n    console.log(this.state.comments);\n\n    // if(`/${this.props.user._id}` === this.props.getPathname) {\n    //   this.setState({canDelete: false}) \n    // }\n    // console.log(this.props.user._id)\n    // console.log(this.props.match.params)\n  };\n\n  getComments = () => {\n    const id = this.props.user._id;\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/comments/${id}`)\n      .then(response => {\n        //PROBLEM\n        const userData = response;\n        this.setState({ initialComments: userData.data.comments });\n        console.log(userData);\n        console.log(this.state.initialComments);\n        this.findCommon()\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n\n  findCommon = () => {\n\n    //    let  theComments  = this.state.theComments;\n        let  initialComments  = this.state.initialComments\n    \n        axios\n        .get(`${process.env.REACT_APP_API_URL}/comments`)\n        .then(response => {\n    \n        \n        let theComments = response.data\n    \n        let matchingComments = theComments.filter(comment => initialComments.includes(comment._id)).map(comment => comment)\n         \n        this.setState({comment: matchingComments, comments: theComments})\n    \n        console.log(matchingComments)\n        console.log(theComments)\n        })\n      }\n       \n      \n\n  deleteComment = (id) => {\n   const comment = this.state.comment\n    const newList = this.state.initialComments;\n    console.log(id)\n    const commentId = id\n    console.log(\"Hello\", comment)\n\n    // let newCommentsList = newList.filter(comment => comment)\n   \n    // var index = newList.indexOf(commentId)\n\n    // let finalCommentsList = newList.slice(index, 1)\n    //  let newCommentsList = comments.filter(comment => finalCommentsList.includes(comment._id)).map(comment => comment)\n   let newCommentsList = comment.filter(el => {\n     return el._id !== id\n   })\n    // console.log(finalCommentsList);\n   \n    //    }\n    axios.delete(`${process.env.REACT_APP_API_URL}/comments/delete/${commentId}`)\n    .then(response => {\n      \n      console.log(\"Hello\", response);\n      const user = response.data;\n      console.log(user)\n      //    if (finalCommentsList > 1) {\n       this.setState({comment: newCommentsList})\n      \n  })\n  .catch(err => {\n      console.log(err);\n    });\n\n    \n};\n\n  // updateComment = () => {\n  //     const comment  = this.state.input;\n\n  //     const userId = this.props.user._id;\n\n  //     axios.patch(`http://localhost:5000/comments/update/${userId}`, {\n  //         comment, userId\n  //     })\n  //     .then(response => {\n  //         console.log(\"Hello\", response.data);\n  //         const user = response.data;\n  //         this.setState({comments: user.comments})\n  //     })\n  //     .catch(err => {\n  //         console.log(err);\n  //       });\n\n  //}\n\n  render() {\n    const {comment} = this.state;\n    const commentsList = comment.reverse();\n\n    return (\n        <div>\n      <div id=\"comments-wrapper\">\n        <h3>Comments</h3>\n        <div className=\"comment\">\n          <AddComment getComments={this.getComments} />\n          <div>\n           { \n                commentsList.map((user, index) => {\n                return (\n                <div key={user._id} className=\"comment\">\n                 \n                \n                 \n                  <h3>{user.comment} </h3>\n               \n                  <img style={{marginTop:\"-1.5em\", marginBottom:\"0.5em\", height:\"5.0vh\", display:\"block\", cursor:\"pointer\"}} src=\"trash.png\" id=\"delete-btn\" className=\"comments-btns\" onClick={(e)=>this.deleteComment(user._id)} />\n                  \n                  <hr />\n                \n                  {/* <DeleteComment getComments={this.getComments}/> */}\n\n              \n                </div>\n              )}\n              ) \n                \n          }\n            \n          </div>\n         \n        </div>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Comments);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport Comments from \"./Comments\";\nimport \"aframe-extras\";\n\nclass Profile extends Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    space_name: \"\",\n    theme: \"\",\n    comments: [],\n    file: null,\n    fileName: \"\",\n    path: \"\",\n    objects: [],\n    backgroundImage:\"\",\n    // background: null,\n    bkgImages: [],\n    fileExists: true\n  };\n\n  onChangeHandler = e => {\n    this.setState({\n      file: e.target.files[0]\n    });\n  };\n\n  // onBkgChangeHandler = e => {\n  //   this.setState({\n  //     background: e.target.files[0]\n     \n  //   });\n  // };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    let id = this.props.user._id\n    console.log(this.props.user._id)\n    let { file } = this.state;\n    let formData = new FormData();\n    formData.append(\"file\", file);\n    \n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/users/upload/${id}`, formData, config)\n      .then(res => {\n        alert(\"The file was successfully uploaded\");\n        console.log(res)\n      const theFile = this.fileUpload.files[0];\n      this.setState({ fileName:theFile.name, objects: res.data.objects });\n      this.uploadFile()\n      \n      })\n      .catch(error => {\n          console.log(error)\n      });\n\n  }\n\n  // handleImageSubmit = e => {\n  //   e.preventDefault();\n  //   let id = this.props.user._id\n  //   let file = this.state.background;\n  //   let formData = new FormData();\n  //   formData.append(\"file\", file);\n  //   console.log(file)\n  //   console.log(this.state.background)\n  //   const config = {\n  //     headers: {\n  //       \"content-type\": \"multipart/form-data\"\n  //     }\n  //   };\n\n  //   axios\n  //     .post(`${process.env.REACT_APP_API_URL}/users/uploadBackground/${id}`, formData, config)\n  //     .then(res => {\n  //       alert(\"The file was successfully uploaded\");\n  //       console.log(res)\n  //     const theFile = this.backgroundUpload.files[0];\n  //     this.setState({ backgroundImage:theFile.name, bkgImages: res.data.backgrounds });\n  //     this.uploadBackground()\n      \n  //     })\n  //     .catch(error => {\n  //         console.log(error)\n  //     });\n\n  // }\n\n  // uploadBackground = () => {\n  //   console.log(this.state.backgroundImage)\n  //   let { backgroundImage } = this.state;\n  \n  //   var assetImg = document.createElement(\"img\");\n  //   assetImg.setAttribute(\"src\", `${process.env.REACT_APP_API_URL}/images/` + backgroundImage);\n  //   assetImg.setAttribute(\"id\", backgroundImage);\n  //   assetImg.setAttribute(\"crossorigin\", \"anonymous\");\n  //   document.getElementById(\"assets-id\").appendChild(assetImg)\n    \n  //   var skyId = '#' + assetImg.id;\n\n  //   var bkgImg = document.createElement('a-sky')\n  //   bkgImg.setAttribute(\"src\", skyId);\n  //   document.getElementById(\"scene\").appendChild(bkgImg);\n  //   console.log(bkgImg);\n  // }\n\n  uploadFile = () => {\n    let { fileName } = this.state;\n    var assetEl = document.createElement(\"a-asset-item\");\n    assetEl.setAttribute(\"src\", `${process.env.REACT_APP_API_URL}/images/` + fileName);\n    assetEl.setAttribute(\"id\", fileName);\n    document.getElementById(\"assets-id\").appendChild(assetEl);\n\n    var gltfModelId = \"#\" + assetEl.id;\n    console.log(assetEl.id);\n\n    var entityEl = document.createElement(\"a-entity\");\n    entityEl.setAttribute(\"gltf-model\", gltfModelId);\n    entityEl.setAttribute(\"id\", \"rig\");\n    entityEl.setAttribute(\"wasd-controls\");\n   \n    // entityEl.setAttribute(\"wasd-controls\", \"adInverted:false\");\n    // entityEl.setAttribute(\"wasd-controls\", \"wsInverted:false\");\n    entityEl.setAttribute(\"wasd-controls\", \"acceleration:5005\");\n    // entityEl.setAttribute(\"wasd-controls\", \"fly:true\");\n    entityEl.setAttribute(\"look-controls\");\n    // entityEl.setAttribute(\n    //   \"sound\",\n    //   \"src: url(12 Rokthaboat[Twrk].mp3); autoplay: true\"\n    // );\n    document.getElementById(\"scene\").appendChild(entityEl);\n    console.log(entityEl);\n    \n  };\n\n  showForm = (e) => {\n    e.preventDefault();\n    const editProfileForm = document.getElementById(\"edit-profile-form\");\n    editProfileForm.style.display = \"block\";\n    const userDetails = document.getElementById(\"user-details\");\n    userDetails.style.display = \"none\";\n  };\n\n  showCreateButton = () => {\n      const createButton = document.getElementById(\"create-btn\");\n      createButton.style.display = \"block\";\n      const uploadForm = document.getElementById(\"upload\");\n      uploadForm.style.display = \"none\";\n  }\n\n//   showBkgCreateButton = () => {\n//     const createButton = document.getElementById(\"create-bkg-btn\");\n//     createButton.style.display = \"block\";\n//     const uploadForm = document.getElementById(\"upload-bkg\");\n//     uploadForm.style.display = \"none\";\n// }\n\n  showUpload = (e) => {\n    e.preventDefault();\n    const uploadForm = document.getElementById(\"upload\");\n    uploadForm.style.display = \"block\";\n    const createButton = document.getElementById(\"create-btn\");\n    createButton.style.display = \"none\";\n  };\n\n  // showImageUpload = (e) => {\n  //   e.preventDefault();\n  //   const uploadForm = document.getElementById(\"upload-bkg\");\n  //   uploadForm.style.display = \"block\";\n  //   const createButton = document.getElementById(\"create-bkg-btn\");\n  //   createButton.style.display = \"none\";\n  // };\n\n  handleInput = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  editProfile = e => {\n    e.preventDefault();\n    let hideProfileForm = document.getElementById(\"edit-profile-form\");\n    hideProfileForm.style.display = \"none\";\n    let userDetails = document.getElementById(\"user-details\");\n    userDetails.style.display = \"block\";\n\n    console.log(this.props.user);\n    const { username, email, space_name, theme } = this.state;\n\n    const id = this.props.user._id;\n\n    axios\n      .put(`${process.env.REACT_APP_API_URL}/users/update/${id}`, {\n        username,\n        email,\n        space_name,\n        theme,\n      })\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        // const user = response.data;\n        this.setState({ username, email, space_name, theme });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n\n  deleteObject = () => {\n   let modelId = this.state.objects.pop()\n\n\naxios.delete(`${process.env.REACT_APP_API_URL}/users/deleteObject/${modelId}`)\n.then(response => {\n    \n    this.setState({path: null, fileName:null})\n    let file = document.getElementById('rig')\n    file.remove()\n      console.log(\"Hello\", response);\n    //   const user = response.data;\n    //   console.log(user)\n      this.setState({path: null, file:null})\n    //   this.setState({initalComments: user.comments})\n  })\n  .catch(err => {\n      console.log(err);\n    });\n\n  }\n\n//   deleteBackground = () => {\n//     let backgroundId = this.state.backgroundId\n//     console.log(this.state.backgroundId)\n \n//  axios.delete(`${process.env.REACT_APP_API_URL}/users/deleteBackground/${backgroundId}`)\n//  .then(response => {\n     \n//      this.setState({ backgroundImage:null})\n//      let file = document.getElementById(this.state.backgroundImage)\n//      file.remove()\n//        console.log(\"Hello\", response);\n     //   const user = response.data;\n     //   console.log(user)\n     //   this.setState({path: null, file:null})\n     //   this.setState({initalComments: user.comments})\n  //  })\n  //  .catch(err => {\n  //      console.log(err);\n  //    });\n \n  //  }\n\n   noFile = (e) => {\n     e.preventDefault()\n    if (this.state.fileExists === false) {\n\n    }\n   }\n  \n  componentDidMount = () => {\n    let id = this.props.user._id  \n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        const user = response.data;\n        this.setState({\n          username: user.username,\n          email: user.email,\n          space_name: user.space_name,\n          theme: user.theme,\n          comments: user.comments\n        });\n        \n      })\n      .catch(err => {\n        console.log(err);\n      });\n  \n      axios\n      .get(`${process.env.REACT_APP_API_URL}/users/filename`)\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        let newObjects = response.data.map(object => object._id )\n       \n        this.setState({\n          path:null, fileName: response.data.pop().path, objects: newObjects\n        });\n      this.uploadFile()\n      \n      if(this.state.fileName === \"\") {\n        this.setState({fileExists: false})\n      }\n        console.log(this.state.path)\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    //   axios\n    // .get(`${process.env.REACT_APP_API_URL}/users/getBackground`)\n    // .then(response => {\n    //   console.log(\"Hello\", response);\n    //   let newBackground = response.data.map(image => image._id )\n    //   let backgroundId = response.data._id\n    //   this.setState({\n    //     backgroundImage: response.data[0].path, background:newBackground, backgroundId: backgroundId\n    //   });\n    //   this.uploadBackground()\n      \n    //   console.log(this.state.path)\n    // })\n    // .catch(err => {\n    //   console.log(err);\n    // });\n  }\n  \n\n  // startBackground = () => {\n  //   axios\n  //   .get(`${process.env.REACT_APP_API_URL}/users/getBackground`)\n  //   .then(response => {\n  //     console.log(\"Hello\", response);\n  //     let newBackground = response.data.map(image => image._id )\n  //     let backgroundId = response.data._id\n  //     this.setState({\n  //       backgroundImage: response.data[0].path, background:newBackground, backgroundId: backgroundId\n  //     });\n  //     this.uploadBackground()\n      \n  //     console.log(this.state.path)\n  //   })\n  //   .catch(err => {\n  //     console.log(err);\n  //   });\n\n  // }\n\n  render() {\n    return (\n       \n      <div \n      // onClick={this.startBackground}\n       id=\"profile-wrapper\"> \n          <div className=\"container env\" >\n           <div className=\"profile-details extra-details\">\n            <h1 style={{textAlign:\"left\", textDecoration:\"underline\"}}>{this.state.space_name}</h1>\n            <div id=\"user-details\" >\n           \n              <h3>\n                Username: <span>{this.state.username}</span>{\" \"}\n              </h3>\n              <h3>\n                Email: <span>{this.state.email}</span>\n              </h3>\n              <h3>\n                Theme: <span>{this.state.theme}</span>\n              </h3>\n\n              <div style={{marginTop:\"2em\", fontSize:\"10px\"}}>\n              <a href=\"\" onClick={this.showForm} >\n              <h2 style={{color:\"white\", border:\"1px solid white\", width:\"45%\", padding:\"10px\", textAlign:\"center\"}}>Edit Profile</h2>\n            </a>\n            </div>\n            </div>\n            <form id=\"edit-profile-form\" onSubmit={this.editProfile}>\n              <label>Username:</label>\n              <input\n                type=\"text\"\n                value={this.state.username}\n                name=\"username\"\n                onChange={this.handleInput}\n              ></input>\n              <label>Email:</label>\n              <input\n                type=\"email\"\n                value={this.state.email}\n                name=\"email\"\n                onChange={this.handleInput}\n              ></input>\n              <label>Space Name:</label>\n              <input\n                type=\"text\"\n                value={this.state.space_name}\n                name=\"space_name\"\n                onChange={this.handleInput}\n              ></input>\n              {/* <label>Theme:</label>\n              <input\n                type=\"text\"\n                value={this.state.theme}\n                name=\"theme\"\n                onChange={this.handleInput}\n              ></input> */}\n              <button style={{color:\"white\"}}>Save</button>\n            </form> \n            </div>\n            {/* <div id=\"create-delete\" className=\"profile-details\">\n            <button style={{color:\"white\", width:\"70%\"}} id=\"create-bkg-btn\" onClick={this.showImageUpload}>Change Background</button>\n            <div  id=\"upload-bkg\" style={{display:\"none\"}}>\n               <ul className=\"env\" style={{ display:\"flex\", flexDirection:\"row\", padding:\"1em\"}}>\n                                     \n                    <li>\n                \n                        <h2>Upload a 3D background into your space </h2>\n                        \n                        {  this.state.fileExists ?\n                          <form onSubmit={this.handleImageSubmit} encType=\"multipart/form-data\" >\n                          <input\n                            onChange={this.onBkgChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.backgroundUpload = ref)}\n                            style={{paddingLeft:\"20%\"}}\n                        />\n                          \n                        <button onClick={this.showBkgCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        \n                        <a onClick={this.deleteBackground} style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"transparent\", width:\"60%\", textAlign:\"center\", padding:\"1em\", margin:\"0 auto\"}}>\n                        Delete current background\n                        </a>\n                        </form>\n                          :  \n                         <form onSubmit={this.noFile} encType=\"multipart/form-data\" >\n                         <input\n                            onChange={this.onBkgChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.backgroundUpload = ref)}\n                            style={{paddingLeft:\"20%\"}}\n                        />\n                          \n                        <button onClick={this.showBkgCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        \n                        <a onClick={this.deleteBackground} style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"transparent\", width:\"60%\", textAlign:\"center\", padding:\"1em\", margin:\"0 auto\"}}>\n                        Delete current background\n                        </a>\n                        </form>\n                        }\n             \n                   </li> \n                </ul>\n              </div> */}\n            <button id=\"create-btn\" onClick={this.showUpload}>Create / Delete Object</button>\n            <div className=\"profile-details\" id=\"upload\">\n            \n                <ul className=\"env\" style={{ display:\"flex\", flexDirection:\"row\", padding:\"1em\", marginTop:\"1.5em\"}}>\n                    <li>\n                        <h2>Upload a 3D object into your space </h2>\n                        <p style={{fontSize:\"12px\"}}>(.glb format)</p>\n                       \n                       \n                        {  this.state.fileExists ?\n                        <form onSubmit={this.handleSubmit} encType=\"multipart/form-data\" >\n                        <input\n                            onChange={this.onChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.fileUpload = ref)}\n                            style={{paddingLeft:\"25%\", paddingTop:\"2%\"}}\n                        />\n                        <button onClick={this.showCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        <a style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"#2ab193e5\", width:\"60%\", textAlign:\"center\", padding:\"0.6em\", margin:\"1em auto\", cursor:\"pointer\"}} onClick={this.deleteObject}>Delete current object</a>\n                        </form> \n\n                        :\n                        <form onSubmit={this.noFile} encType=\"multipart/form-data\" >\n                        <input\n                            onChange={this.onChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.fileUpload = ref)}\n                            style={{paddingLeft:\"20%\"}}\n                        />\n                        <button onClick={this.showCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        <a style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"#2ab193e5\", width:\"60%\", textAlign:\"center\", padding:\"0.6em\", margin:\"1em auto\", cursor:\"pointer\"}} onClick={this.deleteObject}>Delete current object</a>\n                        </form> \n                        }  \n                        \n                    </li> \n                </ul>\n              </div>   \n         </div>\n       \n       \n        \n        <Comments comments={this.state.comments}/>\n\n       \n       \n      </div>\n    );\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\nimport VRScene from \"./../components/VRScene\";\nimport EditProfile from \"./../components/Profile\";\nimport axios from \"axios\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\n\n\nclass Profile extends Component {\n  state = {\n    users: [],\n    username: \"\",\n    space_name: \"\",\n    theme: \"\",\n    background_image:\"\",\n    backgroundPath: \"\"\n  };\n\n  componentDidMount() {\n    const id = this.props.user._id;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then(response => {\n        console.log(\"Hello\", response.data.username);\n        const user = response.data;\n        this.setState({\n          user: user,\n          username: user.username,\n          space_name: user.space_name,\n          theme: user.theme,\n          background_image: user.background,\n        });\n        this.getAllUsers()\n       \n      })\n      .catch(err => {\n        console.log(err);\n      });\n     \n    }\n\n    getAllUsers = () => {\n      axios\n        .get(`${process.env.REACT_APP_API_URL}/users`)\n        .then(response => {\n          console.log(response.data[0].username);\n          const users = response.data;\n          let themes = users.map(user => user.theme)\n          console.log(themes)\n          this.setState({ users: users, selected: users, themes:themes });\n         \n        })\n        .catch(err => console.log(err));\n    };\n  \n  \n    filterUsers = input => {\n      console.log(this.state.users);\n      console.log(this.state.selected);\n  \n    \n      let selected = this.state.users.filter(el => {\n          return el.username.toLowerCase().includes(input.toLowerCase()) || \n          el.theme.toLowerCase().includes(input.toLowerCase()) ||\n          el.space_name.toLowerCase().includes(input.toLowerCase())\n        });\n   \n     \n      console.log(selected);\n      this.setState({ selected: selected});\n    };\n\n  render() {\n    return (\n      <div>\n        <Navbar />\n        <div style={{backgroundColor:'rgba(255, 255, 255, 0.04)'}}>\n        <div className=\"vrscene-h1\">\n          <h1 style={{marginTop:\"0.5em\"}}>\n            Welcome back to {this.state.space_name}, {this.state.username}\n          </h1>\n        </div>\n        <VRScene background = {this.background} />\n        <EditProfile  />\n        </div>\n        \n        <footer ><p>Rose Beatty 2019</p></footer>\n        \n      </div>\n    );\n  }\n}\n\nexport default withAuth(Profile);\n","\n    import React, { Component } from \"react\";\n    import { Link } from \"react-router-dom\";\n    import { withAuth } from \"../lib/AuthProvider\";\n    import Comment from \"../lib/comments-service\";\n    import axios from \"axios\";\n    \n    class postComment extends Component {\n        constructor(props) {\n            super(props)\n        \n        this.state = {\n            input: \"\",\n            initialComments: []\n        }\n    }\n    handleInput = (e) => {\n        const { value } = e.target;\n        this.setState({ input: value });\n      };\n\n\n    handleSubmit = (e) => {\n    e.preventDefault();\n\n      // console.log(this.props.getPathname.slice(1));\n     const userId = this.props.getPathname.slice(1)\n     console.log(this.props.getPathname);\n    // if (this.props.getPathname === \"/profile\") {\n    //   userId = `/${this.props.user._id}`;\n    // }\n    // else {\n    //   userId = this.props.getPathname\n    // }\n\n    const comment  = this.state.input;\n\n    \n    axios\n      .post(`${process.env.REACT_APP_API_URL}/comments/create/${userId}`, {\n        comment, userId\n      })\n      .then(response => {\n        console.log(\"Hello\", response.data);\n        const userData = response.data;\n        this.props.getComments()\n        this.setState({ initialComments: userData });\n        console.log(this.state.initialComments)\n       \n      })\n      .catch (err => {\n        console.log(err);\n      });\n\n    }\n\n    componentDidMount() {\n      this.props.getComments()\n    }\n\n    cancelComment = (e) => {\n      e.preventDefault()\n      this.setState({input:\"\"})\n      return false\n     \n    }\n\n    render() {\n\n        // const {comments} = this.state;\n    \n        return (\n     <form onSubmit={this.handleSubmit}>\n            <input id=\"create-comment\" onChange={this.handleInput} type=\"text\" name=\"comment\" value={this.state.input} placeholder=\"Add a public comment...\"></input>\n         \n            <button className=\"comments-btns\">COMMENT</button>\n            <button className=\"comments-btns\" onClick={this.cancelComment}>CANCEL</button>\n          </form>\n        )\n    }\n    }\n    export default withAuth(postComment)","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Comment from \"../lib/comments-service\";\nimport axios from \"axios\";\nimport PostComment from \"./PostComment\";\n\n\nclass UserComments extends Component {\n  state = {\n      user: [],\n    comments: [],\n    input: \"\",\n    commentId: [],\n    initialComments: [],\n    userComments: [],\n    theComments: [],\n    userCom: []\n  };\n\n  componentDidMount = () => {\n    // console.log(this.props);\n\n    const id = this.props.getPathname;\n   \n    console.log(this.props)\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users${id}`)\n      .then(response => {\n    \n        this.setState({ user: response });\n        console.log(response);\n       this.setState({userComments: response.data})\n       \n        })\n        .catch(err => {\n            console.log(err);\n          });\n           \n\n\n    this.getComments();\n    \n    console.log(this.props);\n    console.log(this.props.getPathname);\n\n    // console.log(this.props.user._id)\n    // console.log(this.props.match.params)\n  };\n\n  getComments = () => {\n    const id = this.props.getPathname;\n    const { user } = this.state;\n    console.log(this.props)\n\n    axios\n    .get(`${process.env.REACT_APP_API_URL}/comments${id}`)\n    .then(response => {\n     \n      this.setState({ userComments: response.data.comments });\n      console.log(response);\n    \n      this.findCommon()\n\n      })\n      .catch(err => {\n          console.log(err);\n        });\n        }\n\n\n  findCommon = () => {\n\n//    let  theComments  = this.state.theComments;\n    let  userComments  = this.state.userComments\n\n    axios\n    .get(`${process.env.REACT_APP_API_URL}/comments`)\n    .then(response => {\n\n        console.log(response)\n    \n    let theComments = response.data\n\n    let matchingComments = theComments.filter(comment => userComments.includes(comment._id)).map(comment => comment)\n     \n    this.setState({userCom: matchingComments})\n\n    })\n  }\n   \n  \n  // updateComment = () => {\n  //     const comment  = this.state.input;\n\n  //     const userId = this.props.user._id;\n\n  //     axios.patch(`http://localhost:5000/comments/update/${userId}`, {\n  //         comment, userId\n  //     })\n  //     .then(response => {\n  //         console.log(\"Hello\", response.data);\n  //         const user = response.data;\n  //         this.setState({comments: user.comments})\n  //     })\n  //     .catch(err => {\n  //         console.log(err);\n  //       });\n\n  //}\n\n  render() {\n    const commentsList = this.state.userCom.reverse() \n\n    return (\n        <div>\n      <div id=\"comments-wrapper\">\n        <h3>Comments</h3>\n        <div className=\"comment\">\n          <PostComment getPathname={this.props.getPathname} getComments={this.getComments} />\n          <div>\n            {\n                             \n                  commentsList.map((comment, index) => {\n                  return (\n                    <div key={comment._id} className=\"comment\">\n                      <h3>{comment.comment}</h3>\n                      <hr />\n                   \n                </div>\n              );\n            })\n          }\n            \n          </div>\n         \n        </div>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserComments);\n","import React, { Component } from \"react\";\nimport UserVRScene from \"./../components/UserVRScene\";\nimport axios from \"axios\";\nimport { withAuth } from \"../lib/AuthProvider\";\n// import UserProfile from \"../components/UserProfile\"\nimport UserComments from \"../components/UserComments\"\n// import Users from \"../lib/user-service\";\nimport Navbar from \"../components/Navbar\";\n\nclass UserPage extends Component {\n  state = {\n    users:[],\n    user: [],\n    fileName: \"\",\n    objects: [],\n    file: null,\n    path: \"\",\n    theme: \"\",\n    selected:[],\n    space_name:\"\",\n    username:\"\",\n   \n    userpath:this.props.location.pathname\n  };\n\n\n  // getUser = (id) => {\n  //   axios\n  //     .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n  //     .then(response => {\n  //       console.log(response);\n  //       const user = response.data;\n  //       this.setState({\n  //           user: user,\n  //           theme: user.theme,\n  //           space_name: user.space_name,\n  //           username: user.username,\n  //           objectId:\"\"\n           \n  //         });\n  //         console.log(this.state.user)\n  //       return user\n  //     })\n  //     .catch(err => console.log(err));\n  // };\n\n\n  uploadFile = () => {\n    let { fileName } = this.state;\n    var assetEl = document.createElement(\"a-asset-item\");\n    assetEl.setAttribute(\"src\", `${process.env.REACT_APP_API_URL}/images/` + fileName);\n    assetEl.setAttribute(\"id\", fileName);\n    document.getElementById(\"assets-id\").appendChild(assetEl);\n\n    var gltfModelId = \"#\" + assetEl.id;\n    console.log(assetEl.id);\n\n    var entityEl = document.createElement(\"a-entity\");\n    entityEl.setAttribute(\"gltf-model\", gltfModelId);\n    entityEl.setAttribute(\"id\", \"rig\");\n    entityEl.setAttribute(\"wasd-controls\");\n   \n    // entityEl.setAttribute(\"wasd-controls\", \"adInverted:false\");\n    // entityEl.setAttribute(\"wasd-controls\", \"wsInverted:false\");\n    entityEl.setAttribute(\"wasd-controls\", \"acceleration:5005\");\n    // entityEl.setAttribute(\"wasd-controls\", \"fly:true\");\n    entityEl.setAttribute(\"look-controls\");\n    // entityEl.setAttribute(\n    //   \"sound\",\n    //   \"src: url(12 Rokthaboat[Twrk].mp3); autoplay: true\"\n    // );\n    document.getElementById(\"scene\").appendChild(entityEl);\n    console.log(entityEl);\n    \n  };\n\n  componentDidMount = () => {\n    const { id } = this.props.match.params; \n    //   let objectId = this.props.user.data.objects[0]\n   \n\n axios\n    .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n    .then(response => {\n      console.log(\"Hello\", response.data);\n      const user = response.data\n      this.setState({\n       user: user,\n       theme: user.theme,\n       space_name: user.space_name,\n       username: user.username,\n       objects: user.objects\n      })\n      this.getAllUsers()\n      console.log(this.state.theme);\n    \n    })\n    .catch(err => {\n      console.log(err);\n    });\n  \n    this.getAllUsers()\n  }\n\n    // console.log(this.props.user)\n    // console.log(this.props.location.pathname);\n    // this.getUser(id);\n\n    getFile = () => {\n      console.log(this.state.objectId)\n      let objectId = this.state.objects.pop()\n\n    axios\n    .get(`${process.env.REACT_APP_API_URL}/users/filename/${objectId}`)\n    .then(response => {\n      console.log(\"Hello\", response.data);\n      // let newObjects = response.data.map(object => object._id )\n      // let newPath = response.data.pop()\n      this.setState({\n       fileName: response.data.path\n      })\n      \n      \n      \n    })\n    .catch(err => {\n      console.log(err);\n    });\n    this.uploadFile()\n    \n  }\n\n  getAllUsers = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users`)\n      .then(response => {\n        console.log(response.data);\n        const users = response.data;\n        // let themes = users.map(user => user.theme)\n        // let bkg = themes.map(theme => theme )\n        // let backgroundImg = `/${users.theme}.jpg`\n        // console.log(bkg)\n        this.setState({ users: users, selected: users});\n        // this.themeAndUserEqual()\n      })\n      .catch(err => console.log(err));\n  };\n\n\n \n\n  filterUsers = input => {\n    console.log(this.state.users);\n    console.log(this.state.selected);\n\n  \n    let selected = this.state.users.filter(el => {\n        return el.username.toLowerCase().includes(input.toLowerCase()) || \n        el.theme.toLowerCase().includes(input.toLowerCase()) ||\n        el.space_name.toLowerCase().includes(input.toLowerCase())\n      });\n \n   \n    console.log(selected);\n    this.setState({ selected: selected});\n  };\n\n\n  \n  \n  render() {\n    return (\n      <div id=\"hover\" onClick={this.getFile}>\n        <Navbar filterUsers={this.filterUsers}/>\n        <div style={{backgroundColor:'rgba(255, 255, 255, 0.04)'}}>\n        <h2 style={{padding:\"1em 0 0.5em 0\"}}>Welcome to {this.state.user.username}'s Space </h2>\n        <UserVRScene theme={this.state.theme}/>\n       {/* <UserProfile getPathname = {this.getPathname}/> */}\n       <UserComments getPathname = {this.state.userpath}/>\n      </div>\n        <footer ><p>Rose Beatty 2019</p></footer>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserPage);\n\n\n\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../lib/AuthProvider';\n\nfunction AnonRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isLoggedin ? <Component {...props} /> : <Redirect to=\"/\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(AnonRoute);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nfunction PrivateRoute({\n  component: Component,\n  isLoggedin,\n  isLoading,\n  ...rest\n}) {\n  if (isLoading) {\n    return <h1>Loading</h1>;\n  } else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isLoggedin ? <Component {...props} /> : <Redirect to=\"/login\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport './App.css';\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport UserPage from './pages/UserPage';\nimport Navbar from './components/Navbar';\n\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\nclass App extends Component {\n\n  \n  render() {\n    return (\n      <div className=\"App\">\n       \n        <Switch>\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n          <PrivateRoute exact path=\"/\" component={Home} />\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n          <PrivateRoute exact path=\"/:id\" component={UserPage} />\n        </Switch>\n        </div>\n   \n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport AuthProvider from './lib/AuthProvider';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}