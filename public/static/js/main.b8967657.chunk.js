(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(35),c=n.n(l),r=n(2),s=n(3),i=n(5),u=n(4),m=n(6),d=n(13),p=(n(44),n(15)),h=n(7),g=n(1),f=n.n(g),b=new(function(){function e(){Object(r.a)(this,e),this.auth=f.a.create({baseURL:"https://exhibit-me.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password,a=e.email,o=e.theme,l=e.space_name;return this.auth.post("/auth/signup",{username:t,password:n,email:a,theme:o,space_name:l}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),E=o.a.createContext(),v=E.Consumer,y=E.Provider,k=function(e){return function(t){function n(){return Object(r.a)(this,n),Object(i.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){var t=this;return o.a.createElement(v,null,(function(n){var a=n.login,l=n.signup,c=n.user,r=n.logout,s=n.isLoggedin,i=n.isLoading;return o.a.createElement(e,Object.assign({login:a,signup:l,user:c,logout:r,isLoggedin:s,isLoading:i},t.props))}))}}]),n}(o.a.Component)},C=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password,o=e.email,l=e.theme,c=e.space_name;b.signup({username:t,password:a,email:o,theme:l,space_name:c}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.login=function(e){var t=e.username,a=e.password;b.login({username:t,password:a}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.logout=function(){b.logout().then((function(){return n.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,l=this.login,c=this.logout,r=this.signup;return o.a.createElement(y,{value:{isLoading:t,isLoggedin:n,user:a,login:l,logout:c,signup:r}},this.props.children)}}]),t}(o.a.Component),j=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={input:""},n.handleInput=function(e){var t=e.target.value;n.props.filterUsers(t),n.setState({input:t})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("li",{id:"search-bar"},o.a.createElement("input",{type:"text",name:"search",onChange:this.handleInput,value:this.state.input,placeholder:"Search"}),o.a.createElement("button",{id:"search-button"},"Search"))}}]),t}(a.Component)),w=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout),n=e.isLoggedin;return o.a.createElement("div",null,n?o.a.createElement("nav",{className:"nav-style"},o.a.createElement("ul",null,o.a.createElement("span",null,o.a.createElement(h.b,{to:"/"},o.a.createElement("p",{id:"logo"},"Exhibit Me"))),o.a.createElement("li",{id:"home"},o.a.createElement(h.b,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(h.b,{to:"/profile"},"Profile")),o.a.createElement(j,{filterUsers:this.props.filterUsers}),o.a.createElement("li",{id:"logout-btn"},o.a.createElement("button",{onClick:t},"Logout")))):o.a.createElement("nav",{className:"nav-style"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(h.b,{to:"/login"}," ",o.a.createElement("button",null,"Login")," ")),o.a.createElement("br",null),o.a.createElement("li",null,o.a.createElement(h.b,{to:"/signup"}," ",o.a.createElement("button",{className:"logout-btn"},"Signup")," ")))))}}]),t}(a.Component)),O=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:"",space_name:"",theme:"",email:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,o=t.password,l=t.space_name,c=t.theme,r=t.email;n.props.signup({username:a,password:o,space_name:l,theme:c,email:r}),console.log(l)},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(p.a)({},a,o))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.space_name,l=e.theme,c=e.email;return o.a.createElement("div",null,o.a.createElement(w,null),o.a.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.04)"}},o.a.createElement("h1",null,"Sign Up"),o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Username:"),o.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),o.a.createElement("label",null,"Password:"),o.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),o.a.createElement("label",null,"Email:"),o.a.createElement("input",{type:"email",name:"email",value:c,onChange:this.handleChange}),o.a.createElement("label",null,"Name Your 3D Space:"),o.a.createElement("input",{type:"text",name:"space_name",value:a,onChange:this.handleChange}),o.a.createElement("label",null,"Your Space's Theme:"),o.a.createElement("input",{type:"text",name:"theme",value:l,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"Signup"})),o.a.createElement("p",null,"Already have account?"),o.a.createElement(h.b,{to:"/login"}," Login")))}}]),t}(a.Component)),S=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,o=t.password;n.props.login({username:a,password:o})},n.handleChange=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(p.a)({},a,o))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return o.a.createElement("div",null,o.a.createElement(w,null),o.a.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.04)"}},o.a.createElement("h1",null,"Login"),o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("label",null,"Username:"),o.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),o.a.createElement("label",null,"Password:"),o.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"Login"}))))}}]),t}(a.Component)),x=(n(65),n(38)),I=(n(34),k(function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props),o.a.createElement("div",{className:"vrscene"},o.a.createElement("div",{id:"myEmbeddedScene"},o.a.createElement(x.Scene,{id:"scene",embedded:!0},o.a.createElement("a-assets",{id:"assets-id"}),o.a.createElement("a-camera",{position:"200 100 0"}))))}}]),t}(a.Component))),B=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={users:[],selected:[],themes:[],selectedThemes:[]},n.getAllUsers=function(){f.a.get("".concat("https://exhibit-me.herokuapp.com","/users")).then((function(e){console.log(e.data[0].username);var t=e.data,a=t.map((function(e){return e.theme}));console.log(a),n.setState({users:t,selected:t,themes:a})})).catch((function(e){return console.log(e)}))},n.themeAndUserEqual=function(){for(var e=0;e<=n.state.users.length;e++)console.log(n.state.users.theme[e])},n.componentDidMount=function(){n.getAllUsers()},n.filterUsers=function(e){console.log(n.state.users),console.log(n.state.selected);var t=n.state.users.filter((function(t){return t.username.toLowerCase().includes(e.toLowerCase())||t.theme.toLowerCase().includes(e.toLowerCase())||t.space_name.toLowerCase().includes(e.toLowerCase())}));console.log(t),n.setState({selected:t})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(w,{filterUsers:this.filterUsers}),o.a.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.04)",padding:"1.2em 2em",minHeight:"90vh"}},o.a.createElement("h1",{style:{textAlign:"left",margin:"0.5em auto",width:"77%"}},"Discover New Places To Visit"),o.a.createElement("div",null,o.a.createElement("div",{style:{display:"none"}},o.a.createElement(I,null)),this.state.selected.map((function(e){return o.a.createElement("div",{key:e._id,className:"one-user"},o.a.createElement(h.b,{to:"/".concat(e._id)},o.a.createElement("h3",{style:{width:"80%",margin:"0 auto"}},e.space_name),o.a.createElement("h3",{style:{borderBottom:"1px solid grey",width:"80%",margin:"0 auto"}},e.theme),o.a.createElement("h3",{style:{width:"80%",margin:"0 auto"}},"Creator: ",e.username)))})))),o.a.createElement("footer",null,"Rose Beatty 2019"))}}]),t}(a.Component)),_=(n(20),k(function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){var t=e.target.value;n.setState({input:t})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.user._id;console.log(t);var a=n.state.input;f.a.post("".concat("https://exhibit-me.herokuapp.com","/comments/create/").concat(t),{comment:a,userId:t}).then((function(e){console.log("Hello",e.data);var t=e.data;n.props.getComments(),n.setState({initialComments:t}),console.log(n.state.initialComments)})).catch((function(e){console.log(e)}))},n.state={input:"",initialComments:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getComments()}},{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{onChange:this.handleInput,type:"text",name:"comment",value:this.state.input,placeholder:"Add a public comment..."}),o.a.createElement("button",null,"COMMENT"),o.a.createElement("button",null,"CANCEL"))}}]),t}(a.Component))),L=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={comments:[],input:"",commentId:[],initialComments:[],canDelete:!0,comment:[]},n.componentDidMount=function(){n.getComments(),console.log(n.props),console.log(n.state.comments)},n.getComments=function(){var e=n.props.user._id;f.a.get("".concat("https://exhibit-me.herokuapp.com","/comments/").concat(e)).then((function(e){var t=e;n.setState({initialComments:t.data.comments}),console.log(t),console.log(n.state.initialComments),n.findCommon()})).catch((function(e){console.log(e)}))},n.findCommon=function(){var e=n.state.initialComments;f.a.get("".concat("https://exhibit-me.herokuapp.com","/comments")).then((function(t){var a=t.data,o=a.filter((function(t){return e.includes(t._id)})).map((function(e){return e}));n.setState({comment:o,comments:a}),console.log(o),console.log(a)}))},n.deleteComment=function(e){var t=n.state.comment;n.state.initialComments;console.log(e);var a=e;console.log("Hello",t);var o=t.filter((function(t){return t._id!==e}));f.a.delete("".concat("https://exhibit-me.herokuapp.com","/comments/delete/").concat(a)).then((function(e){console.log("Hello",e);var t=e.data;console.log(t),n.setState({comment:o})})).catch((function(e){console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.comment.reverse();return o.a.createElement("div",null,o.a.createElement("div",{id:"comments-wrapper"},o.a.createElement("h3",null,"Comments"),o.a.createElement("div",{className:"comment"},o.a.createElement(_,{getComments:this.getComments}),o.a.createElement("div",null,t.map((function(t,n){return o.a.createElement("div",{key:t._id,className:"comment"},o.a.createElement("h3",null,t.comment),o.a.createElement("button",{onClick:function(n){return e.deleteComment(t._id)}},"Delete"),o.a.createElement("hr",null))}))))))}}]),t}(a.Component)),A=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",email:"",space_name:"",theme:"",comments:[],file:null,fileName:"",path:"",objects:[],backgroundImage:"",background:null,bkgImages:[],fileExists:!0},n.onChangeHandler=function(e){n.setState({file:e.target.files[0]})},n.onBkgChangeHandler=function(e){n.setState({background:e.target.files[0]})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.user._id;console.log(n.props.user._id);var a=n.state.file,o=new FormData;o.append("file",a);f.a.post("".concat("https://exhibit-me.herokuapp.com","/users/upload/").concat(t),o,{headers:{"content-type":"multipart/form-data"}}).then((function(e){alert("The file was successfully uploaded"),console.log(e);var t=n.fileUpload.files[0];n.setState({fileName:t.name,objects:e.data.objects}),n.uploadFile()})).catch((function(e){console.log(e)}))},n.handleImageSubmit=function(e){e.preventDefault();var t=n.props.user._id,a=n.state.background,o=new FormData;o.append("file",a),console.log(a),console.log(n.state.background);f.a.post("".concat("https://exhibit-me.herokuapp.com","/users/uploadBackground/").concat(t),o,{headers:{"content-type":"multipart/form-data"}}).then((function(e){alert("The file was successfully uploaded"),console.log(e);var t=n.backgroundUpload.files[0];n.setState({backgroundImage:t.name,bkgImages:e.data.backgrounds}),n.uploadBackground()})).catch((function(e){console.log(e)}))},n.uploadBackground=function(){console.log(n.state.backgroundImage);var e=n.state.backgroundImage,t=document.createElement("img");t.setAttribute("src","".concat("https://exhibit-me.herokuapp.com","/images/")+e),t.setAttribute("id",e),t.setAttribute("crossorigin","anonymous"),document.getElementById("assets-id").appendChild(t);var a="#"+t.id,o=document.createElement("a-sky");o.setAttribute("src",a),document.getElementById("scene").appendChild(o),console.log(o)},n.uploadFile=function(){var e=n.state.fileName,t=document.createElement("a-asset-item");t.setAttribute("src","".concat("https://exhibit-me.herokuapp.com","/images/")+e),t.setAttribute("id",e),document.getElementById("assets-id").appendChild(t);var a="#"+t.id;console.log(t.id);var o=document.createElement("a-entity");o.setAttribute("gltf-model",a),o.setAttribute("id","rig"),o.setAttribute("wasd-controls"),o.setAttribute("wasd-controls","acceleration:5005"),o.setAttribute("look-controls"),document.getElementById("scene").appendChild(o),console.log(o)},n.showForm=function(e){e.preventDefault(),document.getElementById("edit-profile-form").style.display="block",document.getElementById("user-details").style.display="none"},n.showCreateButton=function(){document.getElementById("create-btn").style.display="block",document.getElementById("upload").style.display="none"},n.showBkgCreateButton=function(){document.getElementById("create-bkg-btn").style.display="block",document.getElementById("upload-bkg").style.display="none"},n.showUpload=function(e){e.preventDefault(),document.getElementById("upload").style.display="block",document.getElementById("create-btn").style.display="none"},n.showImageUpload=function(e){e.preventDefault(),document.getElementById("upload-bkg").style.display="block",document.getElementById("create-bkg-btn").style.display="none"},n.handleInput=function(e){var t=e.target,a=t.name,o=t.value;n.setState(Object(p.a)({},a,o))},n.editProfile=function(e){e.preventDefault(),document.getElementById("edit-profile-form").style.display="none",document.getElementById("user-details").style.display="block",console.log(n.props.user);var t=n.state,a=t.username,o=t.email,l=t.space_name,c=t.theme,r=n.props.user._id;f.a.put("".concat("https://exhibit-me.herokuapp.com","/users/update/").concat(r),{username:a,email:o,space_name:l,theme:c}).then((function(e){console.log("Hello",e.data),n.setState({username:a,email:o,space_name:l,theme:c})})).catch((function(e){console.log(e)}))},n.deleteObject=function(){var e=n.state.objects.pop();f.a.delete("".concat("https://exhibit-me.herokuapp.com","/users/deleteObject/").concat(e)).then((function(e){n.setState({path:null,fileName:null}),document.getElementById("rig").remove(),console.log("Hello",e),n.setState({path:null,file:null})})).catch((function(e){console.log(e)}))},n.deleteBackground=function(){var e=n.state.backgroundId;console.log(n.state.backgroundId),f.a.delete("".concat("https://exhibit-me.herokuapp.com","/users/deleteBackground/").concat(e)).then((function(e){n.setState({backgroundImage:null}),document.getElementById(n.state.backgroundImage).remove(),console.log("Hello",e)})).catch((function(e){console.log(e)}))},n.noFile=function(e){e.preventDefault(),n.state.fileExists},n.componentDidMount=function(){var e=n.props.user._id;f.a.get("".concat("https://exhibit-me.herokuapp.com","/users/").concat(e)).then((function(e){console.log("Hello",e.data);var t=e.data;n.setState({username:t.username,email:t.email,space_name:t.space_name,theme:t.theme,comments:t.comments})})).catch((function(e){console.log(e)})),f.a.get("".concat("https://exhibit-me.herokuapp.com","/users/filename")).then((function(e){console.log("Hello",e.data);var t=e.data.map((function(e){return e._id}));n.setState({path:null,fileName:e.data.pop().path,objects:t}),n.uploadFile(),""===n.state.fileName&&n.setState({fileExists:!1}),console.log(n.state.path)})).catch((function(e){console.log(e)}))},n.startBackground=function(){f.a.get("".concat("https://exhibit-me.herokuapp.com","/users/getBackground")).then((function(e){console.log("Hello",e);var t=e.data.map((function(e){return e._id})),a=e.data._id;n.setState({backgroundImage:e.data[0].path,background:t,backgroundId:a}),n.uploadBackground(),console.log(n.state.path)})).catch((function(e){console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{onClick:this.startBackground,id:"profile-wrapper"},o.a.createElement("div",{className:"container env"},o.a.createElement("div",{className:"profile-details extra-details"},o.a.createElement("h1",{style:{textAlign:"left",textDecoration:"underline"}},this.state.space_name),o.a.createElement("div",{id:"user-details"},o.a.createElement("h3",null,"Username: ",o.a.createElement("span",null,this.state.username)," "),o.a.createElement("h3",null,"Email: ",o.a.createElement("span",null,this.state.email)),o.a.createElement("h3",null,"Theme: ",o.a.createElement("span",null,this.state.theme)),o.a.createElement("div",{style:{marginTop:"2em",fontSize:"10px"}},o.a.createElement("a",{href:"",onClick:this.showForm},o.a.createElement("h2",{style:{color:"white",border:"1px solid white",width:"45%",padding:"10px",textAlign:"center"}},"Edit Profile")))),o.a.createElement("form",{id:"edit-profile-form",onSubmit:this.editProfile},o.a.createElement("label",null,"Username:"),o.a.createElement("input",{type:"text",value:this.state.username,name:"username",onChange:this.handleInput}),o.a.createElement("label",null,"Email:"),o.a.createElement("input",{type:"email",value:this.state.email,name:"email",onChange:this.handleInput}),o.a.createElement("label",null,"Space Name:"),o.a.createElement("input",{type:"text",value:this.state.space_name,name:"space_name",onChange:this.handleInput}),o.a.createElement("label",null,"Theme:"),o.a.createElement("input",{type:"text",value:this.state.theme,name:"theme",onChange:this.handleInput}),o.a.createElement("button",{style:{color:"white"}},"Save"))),o.a.createElement("div",{id:"create-delete",className:"profile-details"},o.a.createElement("button",{style:{color:"white",width:"70%"},id:"create-bkg-btn",onClick:this.showImageUpload},"Create / Delete Background"),o.a.createElement("div",{id:"upload-bkg",style:{display:"none"}},o.a.createElement("ul",{className:"env",style:{display:"flex",flexDirection:"row",padding:"1em"}},o.a.createElement("li",null,o.a.createElement("h2",null,"Upload a 3D background into your space "),this.state.fileExists?o.a.createElement("form",{onSubmit:this.handleImageSubmit,encType:"multipart/form-data"},o.a.createElement("input",{onChange:this.onBkgChangeHandler,type:"file",name:"file",ref:function(t){return e.backgroundUpload=t},style:{paddingLeft:"20%"}}),o.a.createElement("button",{onClick:this.showBkgCreateButton,type:"submit",value:"upload",style:{color:"white"}},"Save"),o.a.createElement("a",{onClick:this.deleteBackground,style:{border:"1px solid white",color:"white",backgroundColor:"transparent",width:"60%"}},"Delete current background")):o.a.createElement("form",{onSubmit:this.noFile,encType:"multipart/form-data"},o.a.createElement("input",{onChange:this.onBkgChangeHandler,type:"file",name:"file",ref:function(t){return e.backgroundUpload=t},style:{paddingLeft:"20%"}}),o.a.createElement("button",{onClick:this.showBkgCreateButton,type:"submit",value:"upload",style:{color:"white"}},"Save"),o.a.createElement("button",{onClick:this.deleteBackground,style:{border:"1px solid white",color:"white",backgroundColor:"transparent",width:"60%"}},"Delete current background"))))),o.a.createElement("button",{id:"create-btn",onClick:this.showUpload},"Create / Delete Object"),o.a.createElement("div",{className:"profile-details",id:"upload"},o.a.createElement("ul",{className:"env",style:{display:"flex",flexDirection:"row",padding:"1em"}},o.a.createElement("li",null,o.a.createElement("h2",null,"Upload a 3D object into your space "),o.a.createElement("p",{style:{fontSize:"12px"}},"(.glb format)"),o.a.createElement("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data"},o.a.createElement("input",{onChange:this.onChangeHandler,type:"file",name:"file",ref:function(t){return e.fileUpload=t},style:{paddingLeft:"20%"}}),o.a.createElement("button",{onClick:this.showCreateButton,type:"submit",value:"upload",style:{color:"white"}},"Save"),o.a.createElement("a",{style:{border:"1px solid white",color:"white",backgroundColor:"transparent",width:"60%"},onClick:this.deleteObject},"Delete current object"))))))),o.a.createElement(L,{comments:this.state.comments}))}}]),t}(a.Component)),D=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",space_name:"",theme:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;f.a.get("".concat("https://exhibit-me.herokuapp.com","/users/").concat(t)).then((function(t){console.log("Hello",t.data.username);var n=t.data;e.setState({username:n.username,space_name:n.space_name,theme:n.theme})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(w,null),o.a.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.04)"}},o.a.createElement("div",{className:"vrscene-h1"},o.a.createElement("h1",{style:{marginTop:"0.5em"}},"Welcome back to ",this.state.space_name,", ",this.state.username)),o.a.createElement(I,null),o.a.createElement(A,null)),o.a.createElement("footer",null,o.a.createElement("p",null,"Rose Beatty 2019")))}}]),t}(a.Component)),N=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={user:[],comments:[],input:"",commentId:[],initialComments:[],userComments:[],theComments:[],userCom:[]},n.componentDidMount=function(){var e=n.props.getPathname;console.log(n.props),f.a.get("".concat("https://exhibit-me.herokuapp.com","/users").concat(e)).then((function(e){n.setState({user:e}),console.log(e),n.setState({userComments:e.data})})).catch((function(e){console.log(e)})),n.getComments(),console.log(n.props),console.log(n.props.getPathname)},n.getComments=function(){var e=n.props.getPathname;n.state.user;console.log(n.props),f.a.get("".concat("https://exhibit-me.herokuapp.com","/comments").concat(e)).then((function(e){n.setState({userComments:e.data.comments}),console.log(e),n.findCommon()})).catch((function(e){console.log(e)}))},n.findCommon=function(){var e=n.state.userComments;f.a.get("".concat("https://exhibit-me.herokuapp.com","/comments")).then((function(t){console.log(t);var a=t.data.filter((function(t){return e.includes(t._id)})).map((function(e){return e}));n.setState({userCom:a})}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.userCom.reverse();return o.a.createElement("div",null,o.a.createElement("div",{id:"comments-wrapper"},o.a.createElement("h3",null,"Comments"),o.a.createElement("div",{className:"comment"},o.a.createElement(_,{getPathname:this.props.getPathname,getComments:this.getComments}),o.a.createElement("div",null,e.map((function(e,t){return o.a.createElement("div",{key:e._id,className:"comment"},o.a.createElement("h3",null,e.comment),o.a.createElement("hr",null))}))))))}}]),t}(a.Component)),U=k(function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={user:[],fileName:"",objects:[],file:null,path:"",theme:"",space_name:"",username:"",userpath:n.props.location.pathname},n.getUser=function(e){f.a.get("".concat("https://exhibit-me.herokuapp.com","/users/").concat(e)).then((function(e){console.log(e);var t=e.data;return n.setState({user:t,theme:t.theme,space_name:t.space_name,username:t.username,objectId:""}),console.log(n.state.user),t})).catch((function(e){return console.log(e)}))},n.uploadFile=function(){var e=n.state.fileName,t=document.createElement("a-asset-item");t.setAttribute("src","".concat("https://exhibit-me.herokuapp.com","/images/")+e),t.setAttribute("id",e),document.getElementById("assets-id").appendChild(t);var a="#"+t.id;console.log(t.id);var o=document.createElement("a-entity");o.setAttribute("gltf-model",a),o.setAttribute("id","rig"),o.setAttribute("wasd-controls"),o.setAttribute("wasd-controls","acceleration:5005"),o.setAttribute("look-controls"),document.getElementById("scene").appendChild(o),console.log(o)},n.componentDidMount=function(){var e=n.props.match.params.id;f.a.get("".concat("https://exhibit-me.herokuapp.com","/users/").concat(e)).then((function(e){console.log("Hello",e.data);var t=e.data;n.setState({user:t,theme:t.theme,space_name:t.space_name,username:t.username,objectId:t.objects})})).catch((function(e){console.log(e)}))},n.getFile=function(){console.log(n.state.objectId);var e=n.state.objectId;f.a.get("".concat("https://exhibit-me.herokuapp.com","/users/filename/").concat(e)).then((function(e){console.log("Hello",e.data),n.setState({fileName:e.data.path}),n.uploadFile()})).catch((function(e){console.log(e)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"hover",onClick:this.getFile},o.a.createElement(w,null),o.a.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.04)"}},o.a.createElement("h2",{style:{padding:"1em 0 0.5em 0"}},"Welcome to ",this.state.user.username,"'s Environment "),o.a.createElement(I,null),o.a.createElement(N,{getPathname:this.state.userpath})),o.a.createElement("footer",null,o.a.createElement("p",null,"Rose Beatty 2019")))}}]),t}(a.Component)),H=n(18);var F=k((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,l=Object(H.a)(e,["component","isLoggedin","isLoading"]);return a?o.a.createElement("h1",null,"Loading"):o.a.createElement(d.b,Object.assign({},l,{render:function(e){return n?o.a.createElement(d.a,{to:"/"}):o.a.createElement(t,e)}}))}));var P=k((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,l=Object(H.a)(e,["component","isLoggedin","isLoading"]);return a?o.a.createElement("h1",null,"Loading"):o.a.createElement(d.b,Object.assign({},l,{render:function(e){return n?o.a.createElement(t,e):o.a.createElement(d.a,{to:"/login"})}}))})),T=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d.d,null,o.a.createElement(F,{exact:!0,path:"/signup",component:O}),o.a.createElement(F,{exact:!0,path:"/login",component:S}),o.a.createElement(P,{exact:!0,path:"/",component:B}),o.a.createElement(P,{exact:!0,path:"/profile",component:D}),o.a.createElement(P,{exact:!0,path:"/:id",component:U})))}}]),t}(a.Component);c.a.render(o.a.createElement(h.a,null,o.a.createElement(C,null,o.a.createElement(T,null))),document.getElementById("root"))},20:function(e,t){},39:function(e,t,n){e.exports=n(108)},44:function(e,t,n){}},[[39,1,2]]]);
//# sourceMappingURL=main.b8967657.chunk.js.map