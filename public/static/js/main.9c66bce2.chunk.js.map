{"version":3,"sources":["lib/auth-service.js","lib/AuthProvider.js","components/UserVRScene.js","pages/Home.js","components/SearchBar.js","components/Navbar.js","pages/Signup.js","pages/Login.js","components/VRScene.js","components/AddComment.js","components/Comments.js","components/Profile.js","pages/Profile.js","components/PostComment.js","components/UserComments.js","pages/UserPage.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","webpack:///./src/index.js?b635"],"names":["axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","user","username","password","email","theme","space_name","post","then","data","response","get","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedin","isLoading","props","Component","AuthProvider","state","authService","setState","catch","err","console","log","me","value","children","getUser","id","userId","backgroundPath","upload","a","async","newImg","document","createElement","setAttribute","sky","scene","getElementById","appendChild","uploadFile","startVR","isLoaded","node","getFile","parentNode","removeChild","_id","className","style","color","border","margin","fontSize","onClick","embedded","position","users","selected","themes","background","selectedThemes","input","getAllUsers","map","handleSearch","componentDidMount","window","scrollTo","filterUsers","filter","el","toLowerCase","includes","length","values","queryString","parse","location","search","prevProps","backgroundColor","padding","minHeight","textAlign","width","paddingLeft","paddingBottom","display","key","to","borderBottom","src","height","alt","referrer","e","target","searchSubmit","submit","goHome","onSubmit","type","name","onChange","placeholder","data-toggle","data-target","aria-controls","aria-expanded","aria-label","handleFormSubmit","event","preventDefault","handleChange","paddingTop","handleInput","handleSubmit","comment","userData","getComments","initialComments","cancelComment","comments","commentId","canDelete","findCommon","theComments","matchingComments","deleteComment","newCommentsList","delete","commentsList","reverse","AddComment","index","marginTop","marginBottom","cursor","file","fileName","path","objects","backgroundImage","bkgImages","fileExists","onChangeHandler","files","onBkgChangeHandler","formData","FormData","append","headers","res","alert","theFile","fileUpload","error","assetEl","gltfModelId","entityEl","showForm","showCreateButton","showUpload","showImageUpload","editProfile","put","deleteObject","modelId","pop","remove","noFile","enabled","href","encType","ref","disabled","background_image","getPathname","slice","userComments","userCom","PostComment","objectId","userpath","pathname","match","params","component","rest","render","App","submitSearch","searchStr","history","push","exact","Signup","Login","Home","Profile","UserPage","withRouter","ReactDOM"],"mappings":"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","file":"static/js/main.9c66bce2.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: process.env.REACT_APP_API_URL,\n      withCredentials: true,\n    });\n  }\n\n  signup(user) {\n    const { username, password, email, theme, space_name} = user;\n    return this.auth\n      .post('/auth/signup', { username, password, email, theme, space_name})\n      .then(({ data }) => data);\n  }\n\n  login(user) {\n    const { username, password } = user;\n    return this.auth\n      .post('/auth/login', { username, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post('/auth/logout', {}).then(response => response.data);\n  }\n\n  me() {\n    return this.auth.get('/auth/me').then(response => response.data);\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","//\tlib/AuthProvider.js\n\nimport React from 'react';\nimport authService from './auth-service'; // IMPORT functions for axios requests to API\nconst { Consumer, Provider } = React.createContext();\n\n// HOC to create Consumer\nconst withAuth = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {/* <Consumer> component provides callback which receives Providers \"value\" object */}\n          {/* (value) => { <WrappedComponent />}  */}\n          {({ login, signup, user, logout, isLoggedin, isLoading }) => {\n            return (\n              <WrappedComponent\n                login={login}\n                signup={signup}\n                user={user}\n                logout={logout}\n                isLoggedin={isLoggedin}\n                isLoading={isLoading}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n// Provider\nclass AuthProvider extends React.Component {\n  state = { isLoggedin: false, user: null, isLoading: true };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then(user =>\n        this.setState({ isLoggedin: true, user: user, isLoading: false }),\n      )\n      .catch(err =>\n        this.setState({ isLoggedin: false, user: null, isLoading: false }),\n      );\n  }\n\n  signup = user => {\n    const {  username, password, email, theme, space_name} = user;\n\n    authService\n      .signup({  username, password, email, theme, space_name})\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  login = user => {\n    const { username, password } = user;\n\n    authService\n      .login({ username, password })\n      .then(user => this.setState({ isLoggedin: true, user }))\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    authService\n      .logout()\n      .then(() => this.setState({ isLoggedin: false, user: null }))\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { isLoading, isLoggedin, user } = this.state;\n    const { login, logout, signup } = this;\n\n    return (\n      <Provider value={{ isLoading, isLoggedin, user, login, logout, signup }}>\n        {this.props.children}\n      </Provider>\n    );\n  }\n}\n\nexport { Consumer, withAuth };\n\nexport default AuthProvider;\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport \"aframe\";\nimport { Scene } from \"aframe-react\";\nimport \"aframe-extras\";\nimport axios from \"axios\";\n\nclass UserVRScene extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userId: this.props.user._id,\n      backgroundPath: \"\",\n      theme: \"\",\n      isLoaded: false\n    };\n  }\n\n  getUser = () => {\n    let id = this.state.userId;\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then((response) => {\n        const user = response.data;\n        this.setState({\n          theme: user.theme,\n          backgroundPath: `images/${this.props.theme}.jpg`,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n \n  upload = async () => {\n    let newImg = document.createElement(\"img\");\n    newImg.setAttribute(\"id\", \"sky\");\n\n    newImg.setAttribute(\"src\", `images/${this.props.theme}.jpg`);\n    let sky = document.createElement(\"a-sky\");\n    let scene = document.getElementById(\"scene\");\n\n    sky.setAttribute(\"src\", \"#sky\");\n    sky.appendChild(newImg);\n    scene.appendChild(sky);\n    await this.props.uploadFile();\n  };\n\n   startVR = async () => {\n     this.setState({isLoaded:true})\n    let node = document.getElementById(\"startbtn\");\n    await this.props.getFile()\n    await this.upload();\n    if (node.parentNode) {\n      node.parentNode.removeChild(node);\n    }\n  }\n\n\n  render() {\n    const {isLoaded} = this.state\n\n    return (\n      <div className=\"vrscene\">\n        <div id=\"start\" id=\"myEmbeddedScene\">\n          <button\n            id=\"startbtn\"\n            style={{\n              color: \"white\",\n              border: \"none\",\n              margin: \"12em auto\",\n              fontSize: \"20px\",\n            }}\n            onClick={this.startVR}\n          >\n            CLICK TO START\n          </button>\n          {isLoaded ? \n          <Scene id=\"scene\" embedded>\n            <a-assets id=\"assets-id\">\n            {/* <img id=\"sky\" ></img> */}\n            </a-assets>\n            <a-camera position=\"40 70 0\"></a-camera>\n\n            {/* <a-sky src=\"#sky\"></a-sky> */}\n\n            {/* <a-videosphere src=\"worm.mp4\"></a-videosphere> */}\n          </Scene>\n            : null\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserVRScene);\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\nimport Profile from \"../components/UserVRScene\";\nimport queryString from 'query-string';\n\nclass Home extends Component {\n  state = {\n    users: [],\n    selected: [],\n    themes: [],\n    background: \"\",\n    selectedThemes: [],\n    input: \"\"\n  };\n\n  getAllUsers = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users`)\n      .then(response => {\n        const users = response.data;\n        let themes = users.map(user => user.theme);\n        // let bkg = themes.map(theme => theme )\n        // let backgroundImg = `/${users.theme}.jpg`\n        this.setState({ users: users, selected: users, themes: themes });\n        // this.themeAndUserEqual()\n        this.handleSearch()\n      })\n      .catch(err => console.log(err));\n  };\n\n  componentDidMount = async () => {\n    await this.getAllUsers();\n    window.scrollTo(0,0);\n \n  };\n\n  filterUsers = input => {\n    console.log(input);\n    let selected = this.state.users.filter(el => {\n      return (\n        el.username.toLowerCase().includes(input.toLowerCase()) ||\n        el.theme.toLowerCase().includes(input.toLowerCase()) ||\n        el.space_name.toLowerCase().includes(input.toLowerCase())\n      );\n    });\n    if (selected.length > 0) {\n    this.setState({ selected: selected });\n    }\n    else {\n      return;\n    }\n  };\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.location.search !== this.props.location.search) {\n      console.log('updated')\n      this.handleSearch();\n    }  \n  }\n\n  handleSearch = () => {\n    const values = queryString.parse(this.props.location.search)\n    console.log(values)\n    if(values.search) {\n      this.filterUsers(values.search)\n    }\n}\n\n  render() {\n    return (\n      <div>\n        <div\n          style={{\n            backgroundColor: \"rgba(255, 255, 255, 0.04)\",\n            padding: \"1.2em 2em\",\n            minHeight: \"90vh\"\n          }}\n        >\n          <h1\n            style={{\n              textAlign: \"left\",\n              fontSize: \"40px\",\n              margin: \"0.9em auto 0.5em auto\",\n              width: \"77%\",\n              paddingLeft: \"1em\",\n              paddingBottom: \"0.3em\"\n            }}\n          >\n            Discover\n          </h1>\n\n          <div>\n            <div style={{ display: \"none\" }}>\n              <Profile />\n            </div>\n\n            { this.state.selected.map(user => {\n              return (\n                <div key={user._id} className=\"one-user\">\n                  <Link to={`/${user._id}`}>\n                    <div\n                      style={{\n                        width: \"85%\",\n                        fontSize: \"22px\",\n                        margin: \"0.5em auto\",\n                        borderBottom: \"1px solid grey\",\n                        textAlign: \"center\",\n                        paddingBottom: \"3.5em\"\n                      }}\n                    >\n                      <h3>{user.space_name} </h3>\n                      <div>\n                        <h3\n                          style={{\n                            margin: \"0.5em auto\",\n                            fontSize: \"15px\",\n                            textAlign: \"center\"\n                          }}\n                        >\n                          Theme:{user.theme}\n                          <br />\n                          Created By {user.username}\n                        </h3>\n\n                        <div className=\"containers\">\n                          <img\n                            src={\"/images/\" + user.theme + \".jpg\"}\n                            style={{\n                              display: \"block\",\n                              width: \"100%\",\n                              height: \"auto\",\n                              margin: \"0 auto\"\n                            }}\n                            alt=\"image\"\n                          />\n                          <div className=\"overlay\">\n                            Explore {user.space_name}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </Link>\n                </div>\n              );\n            }) }\n          </div>\n        </div>\n        <footer>Rose Beatty 2020</footer>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport Home from '../pages/Home'\n\nclass SearchBar extends Component {\n  state = {\n    users: [],\n    input: \"\",\n    selected: [],\n    themes: [],\n    selectedThemes: [],\n    referrer: \"\"\n    // goHome: false,\n  };\n\n  // handleInput = e => {\n  //   const { value } = e.target;\n  //   this.props.filterUsers(value);\n  //   this.setState({ input: value});\n    \n  // };\n\n  handleSearch = (e) => {\n    const { value } = e.target;\n    this.setState({input: value})\n  }\n\n  searchSubmit = (e) => {\n    this.props.submit(e, this.state.input);\n    this.setState({input: ''});\n  }\n\n  goHome = () => {\n    this.setState({referrer: '/'});\n    \n  }\n\n\n  render() {\n\n    const {referrer} = this.state;\n\n    return (\n      <li  className='nav-item' style={{\"display\":\"flex\"}}>\n       <form onSubmit={(e) => this.searchSubmit(e)} id=\"search-bar\">\n        <input\n          id=\"search-input\"\n          type=\"text\"\n          name=\"search\"\n          onChange={this.handleSearch}\n          value={this.state.input}\n          placeholder=\"Search...\"\n        />\n        \n        {/* { referrer && <Redirect to={referrer} />} */}\n      \n        <button type=\"submit\" id=\"search-button\">\n          Search\n        </button>\n        </form>\n      </li>\n    );\n  }\n}\n\nexport default withAuth(SearchBar);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css'\nimport SearchBar from \"./SearchBar\";\n\nclass Navbar extends Component {\n\n\n  \n  render() {\n    const { user, logout, isLoggedin } = this.props;\n    return (\n      <div>\n        {isLoggedin ? (\n          <nav className=\"navbar navbar-expand-lg navbar-dark\" id=\"navbar\">\n          <span className=\"navbar-brand\">\n          <Link to=\"/\">\n                  <p id=\"logo\">Exhibit Me</p>\n                </Link>\n              </span>\n              <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                  <span className=\"navbar-toggler-icon\" style={{\"color\":\"white\"}}></span>\n               </button>\n          <div className=\"collapse navbar-collapse flex-grow-1\" id=\"navbarSupportedContent\">\n            <ul className=\"nav navbar-nav\">\n              <li id=\"home\" className=\"nav-item\" >\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li className=\"nav-item\" >\n                <Link to=\"/profile\">Profile</Link>\n              </li>\n             \n              <SearchBar\n                submit={this.props.submit}\n                filterUsers={this.props.filterUsers}\n              /> \n             \n              \n              <li className=\"nav-item\">\n                <button  id=\"logout-btn\" onClick={logout}>Logout</button>\n              </li>\n            </ul>\n            </div>\n              \n          </nav>\n        \n        ) : (\n          <nav className=\"nav-style\">\n            <ul>\n              <li>\n                <Link to=\"/login\">\n                  {\" \"}\n                  <button>Login</button>{\" \"}\n                </Link>\n              </li>\n              <br />\n              <li>\n                <Link to=\"/signup\">\n                  {\" \"}\n                  <button className=\"logout-btn\">Signup</button>{\" \"}\n                </Link>\n              </li>\n            </ul>\n          </nav>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\n\nclass Signup extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    space_name: \"\",\n    theme: \"\",\n    email: \"\",\n    \n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const {\n      username,\n      password,\n      space_name,\n      theme,\n      email,\n      \n    } = this.state;\n    //  console.log('Signup -> form submit', { username, password });\n    this.props.signup({\n      username,\n      password,\n      space_name,\n      theme,\n      email,\n      \n    }); // props.signup is Provided by withAuth() and Context API\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const {\n      username,\n      password,\n      space_name,\n      theme,\n      email,\n      \n    } = this.state;\n    return (\n      <div>\n        {/* <Navbar /> */}\n        <div\n          style={{\n            backgroundColor: \"rgba(255, 255, 255, 0.04)\",\n            padding: \"7vh 0\"\n          }}\n        >\n          <h1>Sign Up</h1>\n          <form onSubmit={this.handleFormSubmit} id=\"sign-up\">\n            <label>Username:</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={username}\n              onChange={this.handleChange}\n            />\n\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n            />\n\n            <label>Email:</label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={this.handleChange}\n            />\n            {/* <label>Your Space's Theme:</label>\n            <input\n              type=\"text\"\n              name=\"theme\"\n              value={theme}\n              onChange={this.handleChange}\n            /> */}\n\n            <label>Theme:</label>\n            <select\n              value={theme}\n              name=\"theme\"\n              id=\"theme\"\n              onChange={this.handleChange}\n              style={{ width: \"12%\", height: \"95%\", margin: \"1vh auto\" }}\n              >\n               <option id=\"selected\" value=\"pick\">\n                Pick a theme\n              </option>\n              <option id=\"selected\" value=\"bali\">\n                Bali\n              </option>\n              <option id=\"selected\" value=\"nature\">\n                Nature\n              </option>\n              <option id=\"selected\" value=\"grass\">\n                Grass\n              </option>\n              <option id=\"selected\" value=\"trippy\">\n                Trippy\n              </option>\n              <option id=\"selected\" value=\"festival\">\n                Festival\n              </option>\n              <option id=\"selected\" value=\"winter\">\n                Winter\n              </option>\n              <option id=\"selected\" value=\"mountains\">\n               Mountains\n              </option>\n              <option id=\"selected\" value=\"canyon\">\n                Canyon\n              </option>\n            </select>\n\n            <label>Name Your 3D Space:</label>\n            <input\n              type=\"text\"\n              name=\"space_name\"\n              value={space_name}\n              onChange={this.handleChange}\n            />\n\n            <br />\n\n            <input\n              style={{\n                width: \"8%\",\n                margin: \"1.5vh auto\",\n                backgroundColor: \"#2ab193e5\"\n              }}\n              type=\"submit\"\n              value=\"Signup\"\n            />\n          </form>\n\n          <p>Already have account?</p>\n          <Link to={\"/login\"}> Login</Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\n\nclass Login extends Component {\n  state = { username: \"\", password: \"\" };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password } = this.state;\n    this.props.login({ username, password });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div>\n        {/* <Navbar /> */}\n        <div\n          style={{\n            backgroundColor: \"rgba(255, 255, 255, 0.04)\",\n            paddingBottom: \"50vh\",\n            paddingTop: \"20vh\"\n          }}\n        >\n          <h1>Login</h1>\n          <form onSubmit={this.handleFormSubmit} id=\"log-in\">\n            <label>Username:</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={username}\n              onChange={this.handleChange}\n            />\n\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n            />\n\n            <input\n              style={{\n                width: \"50%\",\n                margin: \"4vh auto\",\n                backgroundColor: \"#2ab193e5\"\n              }}\n              type=\"submit\"\n              value=\"Login\"\n            />\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Login);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport \"aframe\";\nimport { Scene } from \"aframe-react\";\nimport \"aframe-extras\";\n\n\nclass VRScene extends Component {\n  constructor(props) {\n    super(props)\n  this.state = {\n      theme:this.props.user.theme,\n      backgroundPath:`/images/${this.props.user.theme}.jpg`,\n      \n    };\n  }\n\n  render() {\n    \n    return (\n      <div className=\"vrscene\" >\n        <div id=\"myEmbeddedScene\">\n          <Scene id=\"scene\" embedded>\n            <a-assets id=\"assets-id\">\n             <img id=\"sky\" src={this.state.backgroundPath}></img>\n            </a-assets>\n            <a-camera position=\"40 10 0\"></a-camera>\n\n            <a-sky src=\"#sky\"></a-sky>\n            {/* <a-videosphere src=\"worm.mp4\"></a-videosphere> */}\n            {/* <a-sound src=\"src: url(Will.mpeg)\" autoplay=\"true\" position=\"0 2 5\"></a-sound> */}\n            {/* <a-videosphere src=\"africa.mp4\"></a-videosphere> */}\n          </Scene>\n         \n        </div>\n       \n      </div>\n    );\n  }\n}\n\nexport default withAuth(VRScene);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Comment from \"../lib/comments-service\";\nimport axios from \"axios\";\n\nclass addComment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      input: \"\",\n      initialComments: []\n    };\n  }\n  handleInput = e => {\n    const { value } = e.target;\n    this.setState({ input: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const userId = this.props.user._id;\n    const comment = this.state.input;\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/comments/create/${userId}`, {\n        comment,\n        userId\n      })\n      .then(response => {\n        const userData = response.data;\n        this.props.getComments();\n        this.setState({ initialComments: userData });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  componentDidMount() {\n    this.props.getComments();\n  }\n\n  cancelComment = e => {\n    e.preventDefault();\n    this.setState({ input: \"\" });\n    return false;\n  };\n\n  render() {\n    // const {comments} = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          id=\"create-comment\"\n          onChange={this.handleInput}\n          type=\"text\"\n          name=\"comment\"\n          value={this.state.input}\n          placeholder=\"Add a public comment...\"\n        ></input>\n\n        <button className=\"comments-btns\">COMMENT</button>\n        <button className=\"comments-btns\" onClick={this.cancelComment}>\n          CANCEL\n        </button>\n      </form>\n    );\n  }\n}\nexport default withAuth(addComment);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport AddComment from \"./AddComment\";\n\nclass Comments extends Component {\n  state = {\n    comments: [],\n    input: \"\",\n    commentId: [],\n    initialComments: [],\n    canDelete: true,\n    comment: []\n  };\n\n  componentDidMount = () => {\n    this.getComments();\n  };\n\n  getComments = () => {\n    const id = this.props.user._id;\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/comments/${id}`)\n      .then(response => {\n        //PROBLEM\n        const userData = response;\n        this.setState({ initialComments: userData.data.comments });\n        this.findCommon();\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  findCommon = () => {\n    //    let  theComments  = this.state.theComments;\n    let initialComments = this.state.initialComments;\n\n    axios.get(`${process.env.REACT_APP_API_URL}/comments`).then(response => {\n      let theComments = response.data;\n\n      let matchingComments = theComments\n        .filter(comment => initialComments.includes(comment._id))\n        .map(comment => comment);\n\n      this.setState({ comment: matchingComments, comments: theComments });\n\n    });\n  };\n\n  deleteComment = id => {\n    const comment = this.state.comment;\n    const newList = this.state.initialComments;\n    const commentId = id;\n\n    let newCommentsList = comment.filter(el => {\n      return el._id !== id;\n    });\n\n    axios\n      .delete(`${process.env.REACT_APP_API_URL}/comments/delete/${commentId}`)\n      .then(response => {\n        const user = response.data;\n        this.setState({ comment: newCommentsList });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  // updateComment = () => {\n  //     const comment  = this.state.input;\n\n  //     const userId = this.props.user._id;\n\n  //     axios.patch(`http://localhost:5000/comments/update/${userId}`, {\n  //         comment, userId\n  //     })\n  //     .then(response => {\n  //         const user = response.data;\n  //         this.setState({comments: user.comments})\n  //     })\n  //     .catch(err => {\n  //         console.log(err);\n  //       });\n\n  //}\n\n  render() {\n    const { comment } = this.state;\n    const commentsList = comment.reverse();\n\n    return (\n      <div>\n        <div id=\"comments-wrapper\">\n          <h3>Comments</h3>\n          <div className=\"comment\">\n            <AddComment getComments={this.getComments} />\n            <div>\n              {commentsList.map((user, index) => {\n                return (\n                  <div key={user._id} className=\"comment\">\n                    <h3>{user.comment} </h3>\n\n                    <img\n                      style={{\n                        marginTop: \"-1.5em\",\n                        marginBottom: \"0.5em\",\n                        height: \"5.0vh\",\n                        display: \"block\",\n                        cursor: \"pointer\"\n                      }}\n                      src=\"trash.png\"\n                      id=\"delete-btn\"\n                      className=\"comments-btns\"\n                      onClick={e => this.deleteComment(user._id)}\n                    />\n\n                    <hr />\n\n                    {/* <DeleteComment getComments={this.getComments}/> */}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Comments);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport Comments from \"./Comments\";\nimport \"aframe-extras\";\n\nclass Profile extends Component {\n  state = {\n    username: \"\",\n    email: \"\",\n    space_name: \"\",\n    theme: \"\",\n    comments: [],\n    file: null,\n    fileName: \"\",\n    path: \"\",\n    objects: [],\n    backgroundImage: \"\",\n    background: null,\n    bkgImages: [],\n    fileExists: false,\n  };\n\n  onChangeHandler = (e) => {\n    this.setState({\n      file: e.target.files[0],\n    });\n  };\n\n  onBkgChangeHandler = (e) => {\n    this.setState({\n      background: e.target.files[0],\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let id = this.props.user._id;\n    let { file } = this.state;\n    let formData = new FormData();\n    formData.append(\"file\", file);\n\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\",\n      },\n    };\n\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/users/upload/${id}`,\n        formData,\n        config\n      )\n      .then((res) => {\n        alert(\"The file was successfully uploaded\");\n        const theFile = this.fileUpload.files[0];\n        this.setState({ fileName: theFile.name, objects: res.data.objects });\n\n        this.uploadFile();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  // handleImageSubmit = e => {\n  //   e.preventDefault();\n  //   let id = this.props.user._id;\n  //   let file = this.state.background;\n  //   let formData = new FormData();\n  //   formData.append(\"file\", file);\n\n  //   const config = {\n  //     headers: {\n  //       \"content-type\": \"multipart/form-data\"\n  //     }\n  //   };\n\n  //   axios\n  //     .post(\n  //       `${process.env.REACT_APP_API_URL}/users/uploadBackground/${id}`,\n  //       formData,\n  //       config\n  //     )\n  //     .then(res => {\n  //       alert(\"The file was successfully uploaded\");\n  //       const theFile = this.backgroundUpload.files[0];\n  //       this.setState({\n  //         backgroundImage: theFile.name,\n  //         bkgImages: res.data.backgrounds\n  //       });\n  //       this.uploadBackground();\n  //     })\n  //     .catch(error => {\n  //       console.log(error);\n  //     });\n  // };\n\n  // uploadBackground = () => {\n  //   let { backgroundImage } = this.state;\n\n  //   var assetImg = document.createElement(\"img\");\n  //   assetImg.setAttribute(\n  //     \"src\",\n  //     `${process.env.REACT_APP_API_URL}/images/` + backgroundImage\n  //   );\n  //   assetImg.setAttribute(\"id\", backgroundImage);\n  //   assetImg.setAttribute(\"crossorigin\", \"anonymous\");\n  //   document.getElementById(\"assets-id\").appendChild(assetImg);\n\n  //   var skyId = \"#\" + assetImg.id;\n\n  //   var bkgImg = document.createElement(\"a-sky\");\n  //   bkgImg.setAttribute(\"src\", skyId);\n  //   document.getElementById(\"scene\").appendChild(bkgImg);\n  // };\n\n  // uploadMusic = () => {\n  //   let { backgroundMusic } = this.state;\n\n  //   var assetMusic = document.createElement(\"a-sound\");\n  //   assetMusic.setAttribute(\"src\", src: url(`${process.env.REACT_APP_API_URL}/music/` + backgroundMusic));\n  //   assetMusic.setAttribute(\"id\", backgroundMusic);\n  //   assetMusic.setAttribute(\"crossorigin\", \"anonymous\");\n  //   document.getElementById(\"scene\").appendChild(assetMusic)\n\n  // }\n\n  uploadFile = () => {\n    let { fileName } = this.state;\n    var assetEl = document.createElement(\"a-asset-item\");\n    assetEl.setAttribute(\n      \"src\",\n      `${process.env.REACT_APP_API_URL}/images/` + fileName\n    );\n    assetEl.setAttribute(\"id\", fileName);\n    document.getElementById(\"assets-id\").appendChild(assetEl);\n\n    var gltfModelId = \"#\" + assetEl.id;\n\n    var entityEl = document.createElement(\"a-entity\");\n    entityEl.setAttribute(\"gltf-model\", gltfModelId);\n    entityEl.setAttribute(\"id\", \"rig\");\n    entityEl.setAttribute(\"wasd-controls\");\n    entityEl.setAttribute(\"wasd-controls\", \"acceleration:5005\");\n    // entityEl.setAttribute(\"wasd-controls\", \"fly:true\");\n    entityEl.setAttribute(\"look-controls\");\n    // entityEl.setAttribute(\n    //   \"sound\",\n    //   \"src: url(Will.mpeg);\"\n    // );\n    document.getElementById(\"scene\").appendChild(entityEl);\n  };\n\n  showForm = (e) => {\n    e.preventDefault();\n    const editProfileForm = document.getElementById(\"edit-profile-form\");\n    editProfileForm.style.display = \"block\";\n    const userDetails = document.getElementById(\"user-details\");\n    userDetails.style.display = \"none\";\n  };\n\n  showCreateButton = () => {\n    const createButton = document.getElementById(\"create-btn\");\n    createButton.style.display = \"block\";\n    const uploadForm = document.getElementById(\"upload\");\n    uploadForm.style.display = \"none\";\n  };\n\n  //   showBkgCreateButton = () => {\n  //     const createButton = document.getElementById(\"create-bkg-btn\");\n  //     createButton.style.display = \"block\";\n  //     const uploadForm = document.getElementById(\"upload-bkg\");\n  //     uploadForm.style.display = \"none\";\n  // }\n\n  showUpload = (e) => {\n    e.preventDefault();\n    const uploadForm = document.getElementById(\"upload\");\n    uploadForm.style.display = \"block\";\n    const createButton = document.getElementById(\"create-btn\");\n    createButton.style.display = \"none\";\n  };\n\n  showImageUpload = (e) => {\n    e.preventDefault();\n    const uploadForm = document.getElementById(\"upload-bkg\");\n    uploadForm.style.display = \"block\";\n    const createButton = document.getElementById(\"create-bkg-btn\");\n    createButton.style.display = \"none\";\n  };\n\n  handleInput = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  editProfile = (e) => {\n    e.preventDefault();\n    let hideProfileForm = document.getElementById(\"edit-profile-form\");\n    hideProfileForm.style.display = \"none\";\n    let userDetails = document.getElementById(\"user-details\");\n    userDetails.style.display = \"block\";\n\n    const { username, email, space_name, theme } = this.state;\n\n    const id = this.props.user._id;\n\n    axios\n      .put(`${process.env.REACT_APP_API_URL}/users/update/${id}`, {\n        username,\n        email,\n        space_name,\n        theme,\n      })\n      .then((response) => {\n        this.setState({ username, email, space_name, theme });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  deleteObject = () => {\n    let modelId = this.state.objects.pop();\n\n    axios\n      .delete(`${process.env.REACT_APP_API_URL}/users/deleteObject/${modelId}`)\n      .then((response) => {\n        this.setState({ path: null, fileName: null });\n        let file = document.getElementById(\"rig\");\n        file.remove();\n        this.setState({ path: null, file: null });\n        //   this.setState({initalComments: user.comments})\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  //   deleteBackground = () => {\n  //     let background = this.state.background\n\n  //  axios.delete(`${process.env.REACT_APP_API_URL}/users/deleteBackground/${background}`)\n  //  .then(response => {\n\n  //      this.setState({ backgroundImage:null})\n  //      let file = document.getElementById(this.state.backgroundImage)\n  //      file.remove()\n  //   const user = response.data;\n  //   this.setState({path: null, file:null})\n  //   this.setState({initalComments: user.comments})\n  //  })\n  //  .catch(err => {\n  //      console.log(err);\n  //    });\n\n  //  }\n\n  noFile = (e) => {\n    if (this.state.fileExists === false) {\n      e.preventDefault();\n    }\n  };\n\n  componentDidMount = () => {\n    let id = this.props.user._id;\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then((response) => {\n        const user = response.data;\n        this.setState({\n          username: user.username,\n          email: user.email,\n          space_name: user.space_name,\n          theme: user.theme,\n          comments: user.comments,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    // axios\n    //   .get(`${process.env.REACT_APP_API_URL}/users/filename`)\n    //   .then((response) => {\n    //     let newObjects = response.data.map((object) => object._id);\n\n    //     this.setState({\n    //       path: null,\n    //       fileName: response.data.pop().path,\n    //       objects: newObjects,\n    //     });\n    //     this.uploadFile();\n\n    //     if (this.state.fileName === \"\") {\n    //       this.setState({ fileExists: false });\n    //     }\n    //   })\n    //   .catch((err) => {\n    //     console.log(err);\n    //   });\n\n    //   axios\n    // .get(`${process.env.REACT_APP_API_URL}/users/getBackground`)\n    // .then(response => {\n    //   let newBackground = response.data.map(image => image._id )\n    //   let backgroundId = response.data._id\n    //   this.setState({\n    //     backgroundImage: response.data[0].path, background:newBackground, backgroundId: backgroundId\n    //   });\n    //   this.uploadBackground()\n\n    // })\n    // .catch(err => {\n    //   console.log(err);\n    // });\n  };\n\n  // startBackground = () => {\n  //   axios\n  //   .get(`${process.env.REACT_APP_API_URL}/users/getBackground`)\n  //   .then(response => {\n  //     let newBackground = response.data.map(image => image._id )\n  //     let backgroundId = response.data._id\n  //     this.setState({\n  //       backgroundImage: response.data[0].path, background:newBackground, backgroundId: backgroundId\n  //     });\n  //     this.uploadBackground()\n\n  //   })\n  //   .catch(err => {\n  //     console.log(err);\n  //   });\n\n  // }\n\n  render() {\n    const enabled = this.state.file !== null;\n\n    return (\n      <div\n        // onClick={this.startBackground}\n        id=\"profile-wrapper\"\n      >\n        <div className=\"container env\">\n          <div className=\"profile-details extra-details\">\n            <h1 id=\"space-name\">{this.state.space_name}</h1>\n            <div id=\"user-details\">\n              <h3>\n                Username: <span>{this.state.username}</span>{\" \"}\n              </h3>\n              <h3>\n                Email: <span>{this.state.email}</span>\n              </h3>\n              <h3>\n                Theme: <span>{this.state.theme}</span>\n              </h3>\n\n              <div>\n                <a href=\"\" onClick={this.showForm}>\n                  <h2 id=\"edit-profile-btn\">Edit Profile</h2>\n                </a>\n              </div>\n            </div>\n            <form\n              id=\"edit-profile-form\"\n              onSubmit={this.editProfile}\n              style={{ paddingTop: \"0\" }}\n            >\n              <label>Username:</label>\n              <input\n                type=\"text\"\n                value={this.state.username}\n                name=\"username\"\n                onChange={this.handleInput}\n              ></input>\n              <label>Email:</label>\n              <input\n                type=\"email\"\n                value={this.state.email}\n                name=\"email\"\n                onChange={this.handleInput}\n              ></input>\n              <label>Space Name:</label>\n              <input\n                type=\"text\"\n                value={this.state.space_name}\n                name=\"space_name\"\n                onChange={this.handleInput}\n              ></input>\n              {/* <label>Theme:</label>\n              <input\n                type=\"text\"\n                value={this.state.theme}\n                name=\"theme\"\n                onChange={this.handleInput}\n              ></input> */}\n              <button id=\"save-profile-btn\">Save</button>\n            </form>\n          </div>\n\n          {/* <div id=\"create-delete\" className=\"profile-details\">\n            <div id=\"upload-bkg\" style={{ display: \"none\" }}>\n              <ul\n                className=\"env\"\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  padding: \"1em\"\n                }}\n              >\n                <li>\n                  <h2>Upload a 3D background into your space </h2>\n\n                  <form\n                    onSubmit={this.handleImageSubmit}\n                    encType=\"multipart/form-data\"\n                  >\n                    <input\n                      onChange={this.onBkgChangeHandler}\n                      type=\"file\"\n                      name=\"file\"\n                      ref={ref => (this.backgroundUpload = ref)}\n                      style={{ paddingLeft: \"20%\" }}\n                    />\n\n                    <button\n                      onClick={this.showBkgCreateButton}\n                      type=\"submit\"\n                      value=\"upload\"\n                      style={{ color: \"white\" }}\n                      disabled={!enabled}\n                    >\n                      Save\n                    </button>\n\n                    <a\n                      onClick={this.deleteBackground}\n                      style={{\n                        border: \"1px solid white\",\n                        color: \"white\",\n                        backgroundColor: \"transparent\",\n                        width: \"60%\",\n                        textAlign: \"center\",\n                        padding: \"1em\",\n                        margin: \"0 auto\"\n                      }}\n                    >\n                      Delete current background\n                    </a>\n                  </form>\n                </li>\n              </ul>\n            </div>\n          </div> */}\n\n          {/* <div id=\"create-delete\" className=\"profile-details\">\n            <button style={{color:\"white\", width:\"70%\"}} id=\"create-bkg-btn\" onClick={this.showImageUpload}>Change Music</button>\n            <div  id=\"upload-music\" style={{display:\"none\"}}>\n               <ul className=\"env\" style={{ display:\"flex\", flexDirection:\"row\", padding:\"1em\"}}>\n                                     \n                    <li>\n                \n                        <h2>Upload Background Music into your Space </h2>\n                        \n                        {  this.state.fileExists ?\n                          <form onSubmit={this.handleImageSubmit} encType=\"multipart/form-data\" >\n                          <input\n                            onChange={this.onMusicChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.musicUpload = ref)}\n                            style={{paddingLeft:\"20%\"}}\n                        />\n                          \n                        <button onClick={this.showMusicCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        \n                        <a onClick={this.deleteMusic} style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"transparent\", width:\"60%\", textAlign:\"center\", padding:\"1em\", margin:\"0 auto\"}}>\n                        Delete current music\n                        </a>\n                        </form>\n                          :  \n                         <form onSubmit={this.noFile} encType=\"multipart/form-data\" >\n                         <input\n                            onChange={this.onMusicChangeHandler}\n                            type=\"file\"\n                            name=\"file\"\n                            ref={ref => (this.musicUpload = ref)}\n                            style={{paddingLeft:\"20%\"}}\n                        />\n                          \n                        <button onClick={this.showMusicCreateButton} type=\"submit\" value=\"upload\" style={{color:\"white\"}}>\n                            Save\n                        </button>\n                        \n                        <a onClick={this.deleteMusic} style={{border:\"1px solid white\", color:\"white\", backgroundColor:\"transparent\", width:\"60%\", textAlign:\"center\", padding:\"1em\", margin:\"0 auto\"}}>\n                        Delete current music\n                        </a>\n                        </form>\n                        }\n             \n                   </li> \n                </ul>\n              </div> */}\n\n          <button id=\"create-btn\" onClick={this.showUpload}>\n            Create / Delete Object\n          </button>\n          {/* <button\n            style={{ color: \"white\"}}\n            id=\"create-bkg-btn\"\n            onClick={this.showImageUpload}\n          >\n            Change Background\n          </button> */}\n          <div className=\"profile-details\" id=\"upload\">\n            <ul className=\"env upload-obj\">\n              <li>\n                <h2>Upload a 3D Object Into Your Space </h2>\n                <p style={{ fontSize: \"12px\", marginBottom: \"0.5em\" }}>\n                  (.glb format)\n                </p>\n\n                <form\n                  onSubmit={this.handleSubmit}\n                  encType=\"multipart/form-data\"\n                >\n                  <input\n                    onChange={this.onChangeHandler}\n                    type=\"file\"\n                    name=\"file\"\n                    ref={(ref) => (this.fileUpload = ref)}\n                    style={{\n                      color: \"black\",\n                      backgroundColor: \"white\",\n                      margin: \"0 auto\",\n                      width: \"70%\",\n                    }}\n                  />\n                  <button\n                    id=\"save-object-btn\"\n                    onClick={this.showCreateButton}\n                    type=\"submit\"\n                    value=\"upload\"\n                    disabled={!enabled}\n                  >\n                    Save\n                  </button>\n                  <a\n                    style={{\n                      border: \"1px solid white\",\n                      color: \"white\",\n                      backgroundColor: \"#2ab193e5\",\n                      width: \"60%\",\n                      textAlign: \"center\",\n                      padding: \"0.6em\",\n                      margin: \"1em auto\",\n                      cursor: \"pointer\",\n                    }}\n                    onClick={this.deleteObject}\n                  >\n                    Delete current object\n                  </a>\n                </form>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        <Comments comments={this.state.comments} />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\nimport VRScene from \"./../components/VRScene\";\nimport EditProfile from \"./../components/Profile\";\nimport axios from \"axios\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport Navbar from \"../components/Navbar\";\n\nclass Profile extends Component {\n  state = {\n    users: [],\n    username: \"\",\n    space_name: \"\",\n    theme: \"\",\n    background_image: \"\",\n    backgroundPath: \"\",\n  };\n\n  componentDidMount() {\n    const id = this.props.user._id;\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then((response) => {\n        const user = response.data;\n        this.setState({\n          user: user,\n          username: user.username,\n          space_name: user.space_name,\n          theme: user.theme,\n          background_image: user.background,\n        });\n        this.getAllUsers();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  getAllUsers = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users`)\n      .then((response) => {\n        const users = response.data;\n        let themes = users.map((user) => user.theme);\n        this.setState({ users: users, selected: users, themes: themes });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  filterUsers = (input) => {\n    let selected = this.state.users.filter((el) => {\n      return (\n        el.username.toLowerCase().includes(input.toLowerCase()) ||\n        el.theme.toLowerCase().includes(input.toLowerCase()) ||\n        el.space_name.toLowerCase().includes(input.toLowerCase())\n      );\n    });\n\n    this.setState({ selected: selected });\n  };\n\n  render() {\n    return (\n      <div>\n        {/* <Navbar filterUsers={this.filterUsers} /> */}\n        <div style={{ backgroundColor: \"rgba(255, 255, 255, 0.04)\" }}>\n          <div className=\"vrscene-h1\">\n            <h1 style={{ marginTop: \"0.5em\" }}>\n              Welcome back to {this.state.space_name}, {this.state.username}\n            </h1>\n          </div>\n          <VRScene background={this.background} />\n          <EditProfile />\n        </div>\n\n        <footer>\n          <p>Rose Beatty 2020</p>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Profile);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\n\nclass postComment extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      input: \"\",\n      initialComments: []\n    };\n  }\n  handleInput = e => {\n    const { value } = e.target;\n    this.setState({ input: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const userId = this.props.getPathname.slice(1);\n    const comment = this.state.input;\n\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/comments/create/${userId}`, {\n        comment,\n        userId\n      })\n      .then(response => {\n        const userData = response.data;\n        this.props.getComments();\n        this.setState({ initialComments: userData });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  componentDidMount() {\n    this.props.getComments();\n  }\n\n  cancelComment = e => {\n    e.preventDefault();\n    this.setState({ input: \"\" });\n    return false;\n  };\n\n  render() {\n    // const {comments} = this.state;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input\n          id=\"create-comment\"\n          onChange={this.handleInput}\n          type=\"text\"\n          name=\"comment\"\n          value={this.state.input}\n          placeholder=\"Add a public comment...\"\n        ></input>\n\n        <button className=\"comments-btns\">COMMENT</button>\n        <button className=\"comments-btns\" onClick={this.cancelComment}>\n          CANCEL\n        </button>\n      </form>\n    );\n  }\n}\nexport default withAuth(postComment);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport axios from \"axios\";\nimport PostComment from \"./PostComment\";\n\nclass UserComments extends Component {\n  state = {\n    user: [],\n    comments: [],\n    input: \"\",\n    commentId: [],\n    initialComments: [],\n    userComments: [],\n    theComments: [],\n    userCom: [],\n  };\n\n  componentDidMount = () => {\n    const id = this.props.getPathname;\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users${id}`)\n      .then((response) => {\n        this.setState({ user: response, userComments: response.data });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    this.getComments();\n  };\n\n  getComments = () => {\n    const id = this.props.getPathname;\n    const { user } = this.state;\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/comments${id}`)\n      .then((response) => {\n        this.setState({ userComments: response.data.comments });\n        this.findCommon();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  findCommon = () => {\n    //    let  theComments  = this.state.theComments;\n    let userComments = this.state.userComments;\n\n    axios.get(`${process.env.REACT_APP_API_URL}/comments`).then((response) => {\n      let theComments = response.data;\n\n      let matchingComments = theComments\n        .filter((comment) => userComments.includes(comment._id))\n        .map((comment) => comment);\n\n      this.setState({ userCom: matchingComments });\n    });\n  };\n\n  // updateComment = () => {\n  //     const comment  = this.state.input;\n\n  //     const userId = this.props.user._id;\n\n  //     axios.patch(`http://localhost:5000/comments/update/${userId}`, {\n  //         comment, userId\n  //     })\n  //     .then(response => {\n  //         const user = response.data;\n  //         this.setState({comments: user.comments})\n  //     })\n  //     .catch(err => {\n  //         console.log(err);\n  //       });\n\n  //}\n\n  render() {\n    const commentsList = this.state.userCom.reverse();\n\n    return (\n      <div>\n        <div id=\"comments-wrapper\">\n          <h3>Comments</h3>\n          <div className=\"comment\">\n            <PostComment\n              getPathname={this.props.getPathname}\n              getComments={this.getComments}\n            />\n            <div>\n              {commentsList.map((comment, index) => {\n                return (\n                  <div key={comment._id} className=\"comment\">\n                    <h3>{comment.comment}</h3>\n                    <hr />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserComments);\n","import React, { Component } from \"react\";\nimport UserVRScene from \"./../components/UserVRScene\";\nimport axios from \"axios\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport UserComments from \"../components/UserComments\";\nimport Navbar from \"../components/Navbar\";\n\nclass UserPage extends Component {\n  state = {\n    users: [],\n    user: [],\n    fileName: \"\",\n    objects: [],\n    file: null,\n    objectId:\"\",\n    theme: \"\",\n    selected: [],\n    space_name: \"\",\n    userpath: this.props.location.pathname\n  };\n\n  // getUser = (id) => {\n  //   axios\n  //     .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n  //     .then(response => {\n  //       const user = response.data;\n  //       this.setState({\n  //           user: user,\n  //           theme: user.theme,\n  //           space_name: user.space_name,\n  //           username: user.username,\n  //           objectId:\"\"\n\n  //         });\n  //       return user\n  //     })\n  //     .catch(err => console.log(err));\n  // };\n\n  uploadFile = () => {\n    let { fileName } = this.state;\n    var assetEl = document.createElement(\"a-asset-item\");\n    assetEl.setAttribute(\n      \"src\",\n      `${process.env.REACT_APP_API_URL}/images/` + fileName\n    );\n    assetEl.setAttribute(\"id\", fileName);\n    document.getElementById(\"assets-id\").appendChild(assetEl);\n\n    var gltfModelId = \"#\" + assetEl.id;\n\n    var entityEl = document.createElement(\"a-entity\");\n    entityEl.setAttribute(\"gltf-model\", gltfModelId);\n    entityEl.setAttribute(\"id\", \"rig\");\n    entityEl.setAttribute(\"wasd-controls\");\n\n    // entityEl.setAttribute(\"wasd-controls\", \"adInverted:false\");\n    // entityEl.setAttribute(\"wasd-controls\", \"wsInverted:false\");\n    entityEl.setAttribute(\"wasd-controls\", \"acceleration:5005\");\n    // entityEl.setAttribute(\"wasd-controls\", \"fly:true\");\n    entityEl.setAttribute(\"look-controls\");\n    // entityEl.setAttribute(\n    //   \"sound\",\n    //   \"src: url(12 Rokthaboat[Twrk].mp3); autoplay: true\"\n    // );\n    document.getElementById(\"scene\").appendChild(entityEl);\n  };\n\n  componentDidMount = () => {\n    const { id } = this.props.match.params;\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users/${id}`)\n      .then(response => {\n        const user = response.data;\n        this.setState({\n          user: user,\n          theme: user.theme,\n          space_name: user.space_name,\n          username: user.username,\n          objects: user.objects\n        })\n        \n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n    this.getAllUsers();\n  \n  };\n\n  getFile = async () => {\n    let objectId = this.state.objects.pop();\n\n   await axios\n      .get(`${process.env.REACT_APP_API_URL}/users/filename/${objectId}`)\n      .then(response => {\n        this.setState({\n          fileName: response.data.path\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n    \n  };\n\n  getAllUsers = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/users`)\n      .then(response => {\n        const users = response.data;\n        // let themes = users.map(user => user.theme)\n        // let bkg = themes.map(theme => theme )\n        // let backgroundImg = `/${users.theme}.jpg`\n        this.setState({ users: users, selected: users });\n        // this.themeAndUserEqual()\n      })\n      .catch(err => console.log(err));\n  };\n\n  filterUsers = input => {\n    let selected = this.state.users.filter(el => {\n      return (\n        el.username.toLowerCase().includes(input.toLowerCase()) ||\n        el.theme.toLowerCase().includes(input.toLowerCase()) ||\n        el.space_name.toLowerCase().includes(input.toLowerCase())\n      );\n    });\n\n    this.setState({ selected: selected });\n  };\n\n\n\n  render() {\n    return (\n      <div id=\"hover\" >\n        {/* <Navbar filterUsers={this.filterUsers} /> */}\n        <div style={{ backgroundColor: \"rgba(255, 255, 255, 0.04)\" }}>\n          <h2 style={{ padding: \"1em 0 0.5em 0\" }}>\n            Welcome to {this.state.user.username}'s Space{\" \"}\n          </h2>\n          <UserVRScene startVR={this.startVR} getFile={this.getFile} uploadFile={this.uploadFile} theme={this.state.theme} />\n          <UserComments getPathname={this.state.userpath} />\n        </div>\n        <footer>\n          <p>Rose Beatty 2020</p>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(UserPage);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { withAuth } from '../lib/AuthProvider';\n\nfunction AnonRoute({ component: Component, isLoggedin, isLoading, ...rest }) {\n\n  if (isLoading) {\n    return <h1>Loading</h1>\n  }\n  else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isLoggedin ? <Component {...props} /> : <Redirect to=\"/\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(AnonRoute);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nfunction PrivateRoute({\n  component: Component,\n  isLoggedin,\n  isLoading,\n  ...rest\n}) {\n  if (isLoading) {\n    return <h1>Loading</h1>;\n  } else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isLoggedin ? <Component {...props} /> : <Redirect to=\"/login\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import React, { Component } from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport './App.css';\n\nimport Signup from './pages/Signup';\nimport Login from './pages/Login';\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport UserPage from './pages/UserPage';\nimport Navbar from './components/Navbar';\n\nimport AnonRoute from './components/AnonRoute';\nimport PrivateRoute from './components/PrivateRoute';\n\nclass App extends Component {\n\n  submitSearch = (e, searchStr) => {\n    e.preventDefault();\n    this.props.history.push(`/?search=${searchStr}`);\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n       \n       <Navbar submit={this.submitSearch} />\n\n        <Switch>\n          <AnonRoute exact path=\"/signup\" component={Signup} />\n          <AnonRoute exact path=\"/login\" component={Login} />\n          <PrivateRoute exact path=\"/\" component={Home} />\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n          <PrivateRoute exact path=\"/:id\" component={UserPage} />\n        </Switch>\n        </div>\n   \n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport AuthProvider from './lib/AuthProvider';\n\nReactDOM.render(\n  <Router>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}